{"version":3,"sources":["../../../../src/backward/Widgets/Button.js"],"names":["Button","borderedBtn","borderWidth","props","bordered","undefined","borderRadius","rounded","borderRadiusLarge","iconComponentPresent","Children","forEach","children","child","type","defaultProps","style","getInitialStyle","textStyle","OS","capitalize","toUpperCase","cloneElement","Array","isArray","newChildren","childrenArray","toArray","iconElement","remove","item","iconRight","push","iconLeft","length","c","_root","prepareRootProps","renderChildren","propTypes","PropTypes","object","block","bool","primary","transparent","success","danger","warning","info","disabled","large","small","inputButton","tabButton","StyledButton"],"mappings":"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","file":"Button.js","sourcesContent":["/* @flow */\n\n\nimport React, { Component } from 'react';\nimport { TouchableOpacity, Platform } from 'react-native';\nimport { connectStyle } from '@shoutem/theme';\nimport _ from 'lodash';\nimport variables from '../../theme/variables';\nimport { Icon } from './Icon';\nimport mapPropsToStyleNames from '../../Utils/mapPropsToStyleNames';\nimport computeProps from '../../Utils/computeProps';\nimport { Text } from './Text';\n\n\nclass Button extends Component {\n\n\n  getInitialStyle() {\n    return {\n      borderedBtn: {\n        borderWidth: (this.props.bordered) ? 1 : undefined,\n        borderRadius: (this.props.rounded && this.props.bordered) ? variables.borderRadiusLarge : 2,\n      },\n    };\n  }\n\n  iconPresent() {\n    let iconComponentPresent = false;\n    React.Children.forEach(this.props.children, (child) => {\n      if (child.type === Icon) { iconComponentPresent = true; }\n    });\n    return iconComponentPresent;\n  }\n\n  prepareRootProps() {\n    const defaultProps = {\n      style: this.getInitialStyle().borderedBtn,\n    };\n\n    return computeProps(this.props, defaultProps);\n  }\n\n  renderChildren() {\n    if (typeof this.props.children === 'string') {\n      return <Text style={this.props.textStyle}>{(Platform.OS === 'ios' || !this.props.capitalize) ? this.props.children : this.props.children.toUpperCase()}</Text>;\n    } else if (this.props.children.type === Icon) {\n      return React.cloneElement(this.props.children);\n    } else if (Array.isArray(this.props.children)) {\n      const newChildren = [];\n\n      const childrenArray = React.Children.toArray(this.props.children);\n\n      let iconElement = [];\n      iconElement = _.remove(childrenArray, (item) => {\n        if (item.type === Icon) {\n          return true;\n        }\n        return null;\n      });\n\n      if (this.props.iconRight) {\n        if (childrenArray[0].type === undefined) {\n          newChildren.push(<Text key=\"label\">{(Platform.OS === 'ios' || !this.props.capitalize) ? childrenArray[0] : childrenArray[0].toUpperCase()}</Text>);\n        } else {\n          newChildren.push(<Text key=\"label\">{(Platform.OS === 'ios' || !this.props.capitalize) ? childrenArray[0].props.children : childrenArray[0].props.children.toUpperCase()}</Text>);\n        }\n\n        newChildren.push(React.cloneElement(iconElement[0]));\n      } else if (this.props.iconLeft || iconElement.length > 0) {\n        newChildren.push(React.cloneElement(iconElement[0]));\n\n        if (childrenArray[0].type === undefined) {\n          newChildren.push(<Text key=\"label\">{(Platform.OS === 'ios' || !this.props.capitalize) ? childrenArray[0] : childrenArray[0].toUpperCase()}</Text>);\n        } else {\n          newChildren.push(<Text key=\"label\">{(Platform.OS === 'ios' || !this.props.capitalize) ? childrenArray[0].props.children : childrenArray[0].props.children.toUpperCase()}</Text>);\n        }\n      } else {\n        return <Text>{this.props.children}</Text>;\n      }\n\n      return newChildren;\n    }\n    return React.cloneElement(this.props.children);\n  }\n\n  render() {\n    return (\n      <TouchableOpacity\n        ref={(c) => { this._root = c; }}\n        {...this.prepareRootProps()} activeOpacity={0.5}\n      >\n        {this.renderChildren()}\n      </TouchableOpacity>\n    );\n  }\n}\n\n\nButton.propTypes = {\n  ...TouchableOpacity.propTypes,\n  style: React.PropTypes.object,\n  textStyle: React.PropTypes.object,\n  block: React.PropTypes.bool,\n  primary: React.PropTypes.bool,\n  transparent: React.PropTypes.bool,\n  success: React.PropTypes.bool,\n  danger: React.PropTypes.bool,\n  warning: React.PropTypes.bool,\n  info: React.PropTypes.bool,\n  bordered: React.PropTypes.bool,\n  disabled: React.PropTypes.bool,\n  rounded: React.PropTypes.bool,\n  large: React.PropTypes.bool,\n  small: React.PropTypes.bool,\n  inputButton: React.PropTypes.bool,\n  tabButton: React.PropTypes.bool,\n};\n\n\nconst StyledButton = connectStyle('NativeBase.Button', {}, mapPropsToStyleNames)(Button);\nexport {\n  StyledButton as Button,\n};\n"]}