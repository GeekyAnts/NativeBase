{"version":3,"sources":["../../../../src/basic/Tabs/ScrollableTabBar.js"],"names":["ReactNative","require","View","Animated","StyleSheet","ScrollView","Platform","Dimensions","I18nManager","Button","WINDOW_WIDTH","get","width","ScrollableTabBar","propTypes","goToPage","func","activeTab","number","tabs","array","backgroundColor","string","activeTextColor","inactiveTextColor","scrollOffset","style","tabStyle","tabsContainerStyle","renderTab","underlineStyle","onScroll","contextTypes","theme","object","getDefaultProps","getInitialState","_tabsMeasurements","_leftTabUnderline","Value","_widthTabUnderline","_rightTabUnderline","_containerWidth","componentDidMount","props","scrollValue","addListener","updateView","offset","position","Math","floor","value","pageOffset","tabCount","length","lastTabPosition","necessarilyMeasurementsCompleted","updateTabPanel","updateTabUnderline","isLastTab","_tabContainerMeasurements","_containerMeasurements","containerWidth","tabWidth","nextTabMeasurements","nextTabWidth","tabOffset","left","absolutePageOffset","newScrollX","OS","_scrollView","scrollTo","x","y","animated","rightBoundScroll","lineLeft","lineRight","right","nextTabLeft","nextTabRight","newLineLeft","newLineRight","state","setValue","name","page","isTabActive","onPressHandler","onLayoutHandler","activeTabStyle","textStyle","activeTextStyle","tabHeaderStyle","headerContent","children","undefined","textColor","fontWeight","random","measureTab","event","nativeEvent","layout","height","_value","render","variables","context","tabUnderlineStyle","topTabBarActiveBorderColor","bottom","dynamicTabUnderline","dynamicTabUnderlineRight","styles","container","onContainerLayout","scrollView","onTabContainerLayout","map","bind","isRTL","componentWillReceiveProps","nextProps","isEqual","setState","e","StyledTab","ScrollableTab","create","tab","alignItems","justifyContent","paddingLeft","paddingRight","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderColor","flexDirection"],"mappings":"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","file":"ScrollableTabBar.js","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport createReactClass from \"create-react-class\";\nconst ReactNative = require(\"react-native\");\nimport { connectStyle, StyleProvider } from \"native-base-shoutem-theme\";\nimport mapPropsToStyleNames from \"../../Utils/mapPropsToStyleNames\";\nimport variable from \"./../../theme/variables/platform\";\nimport { TabHeading, Text, TabContainer } from \"./../../index\";\nimport _ from \"lodash\";\nconst {\n  View,\n  Animated,\n  StyleSheet,\n  ScrollView,\n  Platform,\n  Dimensions,\n  I18nManager\n} = ReactNative;\nimport { ViewPropTypes } from \"../../Utils\";\nconst Button = require(\"./Button\");\n\nconst WINDOW_WIDTH = Dimensions.get(\"window\").width;\n\nconst ScrollableTabBar = createReactClass({\n  propTypes: {\n    goToPage: PropTypes.func,\n    activeTab: PropTypes.number,\n    tabs: PropTypes.array,\n    backgroundColor: PropTypes.string,\n    activeTextColor: PropTypes.string,\n    inactiveTextColor: PropTypes.string,\n    scrollOffset: PropTypes.number,\n    style: ViewPropTypes.style,\n    tabStyle: ViewPropTypes.style,\n    tabsContainerStyle: ViewPropTypes.style,\n    renderTab: PropTypes.func,\n    underlineStyle: ViewPropTypes.style,\n    onScroll: PropTypes.func\n  },\n  contextTypes: {\n    theme: PropTypes.object\n  },\n\n  getDefaultProps() {\n    return {\n      scrollOffset: 52,\n      activeTextColor: \"navy\",\n      inactiveTextColor: \"black\",\n      backgroundColor: null,\n      style: {},\n      tabStyle: {},\n      tabsContainerStyle: {},\n      underlineStyle: {}\n    };\n  },\n\n  getInitialState() {\n    this._tabsMeasurements = [];\n    return {\n      _leftTabUnderline: new Animated.Value(0),\n      _widthTabUnderline: new Animated.Value(0),\n      _rightTabUnderline: new Animated.Value(0),\n      _containerWidth: null\n    };\n  },\n\n  componentDidMount() {\n    this.props.scrollValue.addListener(this.updateView);\n  },\n\n  updateView(offset) {\n    const position = Math.floor(offset.value);\n    const pageOffset = offset.value % 1;\n    const tabCount = this.props.tabs.length;\n    const lastTabPosition = tabCount - 1;\n\n    if (tabCount === 0 || offset.value < 0 || offset.value > lastTabPosition) {\n      return;\n    }\n\n    if (\n      this.necessarilyMeasurementsCompleted(\n        position,\n        position === lastTabPosition\n      )\n    ) {\n      this.updateTabPanel(position, pageOffset);\n      this.updateTabUnderline(position, pageOffset, tabCount);\n    }\n  },\n\n  necessarilyMeasurementsCompleted(position, isLastTab) {\n    return (\n      this._tabsMeasurements[position] &&\n      (isLastTab || this._tabsMeasurements[position + 1]) &&\n      this._tabContainerMeasurements &&\n      this._containerMeasurements\n    );\n  },\n\n  updateTabPanel(position, pageOffset) {\n    const containerWidth = this._containerMeasurements.width;\n    const tabWidth = this._tabsMeasurements[position].width;\n    const nextTabMeasurements = this._tabsMeasurements[position + 1];\n    const nextTabWidth =\n      (nextTabMeasurements && nextTabMeasurements.width) || 0;\n    const tabOffset = this._tabsMeasurements[position].left;\n    const absolutePageOffset = pageOffset * tabWidth;\n    let newScrollX = tabOffset + absolutePageOffset;\n\n    // center tab and smooth tab change (for when tabWidth changes a lot between two tabs)\n    newScrollX -=\n      (containerWidth -\n        (1 - pageOffset) * tabWidth -\n        pageOffset * nextTabWidth) /\n      2;\n    newScrollX = newScrollX >= 0 ? newScrollX : 0;\n\n    if (Platform.OS === \"android\") {\n      this._scrollView.scrollTo({ x: newScrollX, y: 0, animated: false });\n    } else {\n      const rightBoundScroll =\n        this._tabContainerMeasurements.width -\n        this._containerMeasurements.width;\n      newScrollX =\n        newScrollX > rightBoundScroll ? rightBoundScroll : newScrollX;\n      this._scrollView.scrollTo({ x: newScrollX, y: 0, animated: false });\n    }\n  },\n\n  updateTabUnderline(position, pageOffset, tabCount) {\n    const lineLeft = this._tabsMeasurements[position].left;\n    const lineRight = this._tabsMeasurements[position].right;\n\n    if (position < tabCount - 1) {\n      const nextTabLeft = this._tabsMeasurements[position + 1].left;\n      const nextTabRight = this._tabsMeasurements[position + 1].right;\n      const newLineLeft =\n        pageOffset * nextTabLeft + (1 - pageOffset) * lineLeft;\n      const newLineRight =\n        pageOffset * nextTabRight + (1 - pageOffset) * lineRight;\n      this.state._leftTabUnderline.setValue(newLineLeft);\n      this.state._rightTabUnderline.setValue(newLineLeft);\n      this.state._widthTabUnderline.setValue(newLineRight - newLineLeft);\n    } else {\n      this.state._leftTabUnderline.setValue(lineLeft);\n      this.state._rightTabUnderline.setValue(lineLeft);\n      this.state._widthTabUnderline.setValue(lineRight - lineLeft);\n    }\n  },\n\n  renderTab(\n    name,\n    page,\n    isTabActive,\n    onPressHandler,\n    onLayoutHandler,\n    tabStyle,\n    activeTabStyle,\n    textStyle,\n    activeTextStyle,\n    tabHeaderStyle\n  ) {\n    const headerContent =\n      typeof name !== \"string\" ? name.props.children : undefined;\n    const { activeTextColor, inactiveTextColor } = this.props;\n    const textColor = isTabActive ? activeTextColor : inactiveTextColor;\n    const fontWeight = isTabActive ? \"bold\" : \"normal\";\n\n    if (typeof name === \"string\") {\n      return (\n        <Button\n          key={`${name}_${page}`}\n          onPress={() => onPressHandler(page)}\n          onLayout={onLayoutHandler}\n        >\n          <TabHeading\n            scrollable\n            style={isTabActive ? activeTabStyle : tabStyle}\n            active={isTabActive}\n          >\n            <Text style={isTabActive ? activeTextStyle : textStyle}>\n              {name}\n            </Text>\n          </TabHeading>\n        </Button>\n      );\n    } else {\n      return (\n        <Button\n          key={_.random(1.2, 5.2)}\n          onPress={() => onPressHandler(page)}\n          onLayout={onLayoutHandler}\n        >\n          <TabHeading scrollable style={tabHeaderStyle} active={isTabActive}>\n            {headerContent}\n          </TabHeading>\n        </Button>\n      );\n    }\n  },\n\n  measureTab(page, event) {\n    const { x, width, height } = event.nativeEvent.layout;\n    this._tabsMeasurements[page] = { left: x, right: x + width, width, height };\n    this.updateView({ value: this.props.scrollValue._value });\n  },\n\n  render() {\n    const variables = this.context.theme\n      ? this.context.theme[\"@@shoutem.theme/themeStyle\"].variables\n      : variable;\n    const tabUnderlineStyle = {\n      position: \"absolute\",\n      height: 4,\n      backgroundColor: variables.topTabBarActiveBorderColor,\n      bottom: 0\n    };\n\n    const dynamicTabUnderline = {\n      left: this.state._leftTabUnderline,\n      width: this.state._widthTabUnderline\n    };\n\n    const dynamicTabUnderlineRight = {\n      right: this.state._rightTabUnderline,\n      width: this.state._widthTabUnderline\n    };\n\n    return (\n      <View\n        style={[\n          styles.container,\n          { backgroundColor: this.props.backgroundColor },\n          this.props.style\n        ]}\n        onLayout={this.onContainerLayout}\n      >\n        <ScrollView\n          automaticallyAdjustContentInsets={false}\n          ref={scrollView => {\n            this._scrollView = scrollView;\n          }}\n          horizontal={true}\n          showsHorizontalScrollIndicator={false}\n          showsVerticalScrollIndicator={false}\n          directionalLockEnabled={true}\n          onScroll={this.props.onScroll}\n          bounces={false}\n          scrollsToTop={false}\n        >\n          <View\n            style={[\n              styles.tabs,\n              { width: this.state._containerWidth },\n              this.props.tabsContainerStyle\n            ]}\n            ref={\"tabContainer\"}\n            onLayout={this.onTabContainerLayout}\n          >\n            {this.props.tabs.map((name, page) => {\n              const isTabActive = this.props.activeTab === page;\n              const renderTab = this.props.renderTab || this.renderTab;\n              return renderTab(\n                name,\n                page,\n                isTabActive,\n                this.props.goToPage,\n                this.measureTab.bind(this, page),\n                this.props.tabStyle[page],\n                this.props.activeTabStyle[page],\n                this.props.textStyle[page],\n                this.props.activeTextStyle[page],\n                this.props.tabHeaderStyle[page]\n              );\n            })}\n            <Animated.View\n              style={[\n                tabUnderlineStyle,\n                I18nManager.isRTL\n                  ? dynamicTabUnderlineRight\n                  : dynamicTabUnderline,\n                this.props.underlineStyle\n              ]}\n            />\n          </View>\n        </ScrollView>\n      </View>\n    );\n  },\n\n  componentWillReceiveProps(nextProps) {\n    // If the tabs change, force the width of the tabs container to be recalculated\n    if (\n      !_.isEqual(this.props.tabs, nextProps.tabs) &&\n      this.state._containerWidth\n    ) {\n      this.setState({ _containerWidth: null });\n    }\n  },\n\n  onTabContainerLayout(e) {\n    this._tabContainerMeasurements = e.nativeEvent.layout;\n    let width = this._tabContainerMeasurements.width;\n    if (width < WINDOW_WIDTH) {\n      width = WINDOW_WIDTH;\n    }\n    this.setState({ _containerWidth: width });\n    this.updateView({ value: this.props.scrollValue._value });\n  },\n\n  onContainerLayout(e) {\n    this._containerMeasurements = e.nativeEvent.layout;\n    this.updateView({ value: this.props.scrollValue._value });\n  }\n});\n\n// module.exports = ScrollableTabBar;\nconst StyledTab = connectStyle(\n  \"NativeBase.ScrollableTab\",\n  {},\n  mapPropsToStyleNames\n)(ScrollableTabBar);\nexport { StyledTab as ScrollableTab };\nconst styles = StyleSheet.create({\n  tab: {\n    height: 49,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingLeft: 20,\n    paddingRight: 20\n  },\n  container: {\n    height: 50,\n    borderWidth: 1,\n    borderTopWidth: 0,\n    borderLeftWidth: 0,\n    borderRightWidth: 0,\n    borderColor: \"#ccc\"\n  },\n  tabs: {\n    flexDirection: \"row\",\n    justifyContent: \"space-around\"\n  }\n});\n"]}