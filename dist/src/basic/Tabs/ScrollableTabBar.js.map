{"version":3,"sources":["../../../../src/basic/Tabs/ScrollableTabBar.js"],"names":["Button","require","ReactNative","View","Animated","StyleSheet","ScrollView","Platform","Dimensions","WINDOW_WIDTH","get","width","ScrollableTabBar","propTypes","goToPage","PropTypes","func","activeTab","number","tabs","array","backgroundColor","string","activeTextColor","inactiveTextColor","scrollOffset","style","ViewPropTypes","tabStyle","tabsContainerStyle","renderTab","underlineStyle","onScroll","contextTypes","theme","object","getDefaultProps","variable","tabDefaultBg","tabFontSize","getInitialState","_tabsMeasurements","_leftTabUnderline","Value","_widthTabUnderline","_containerWidth","componentDidMount","props","scrollValue","addListener","updateView","offset","position","Math","floor","value","pageOffset","tabCount","length","lastTabPosition","necessarilyMeasurementsCompleted","updateTabPanel","updateTabUnderline","isLastTab","_tabContainerMeasurements","_containerMeasurements","containerWidth","tabWidth","nextTabMeasurements","nextTabWidth","tabOffset","left","absolutePageOffset","newScrollX","OS","_scrollView","scrollTo","x","y","animated","rightBoundScroll","lineLeft","lineRight","right","nextTabLeft","nextTabRight","newLineLeft","newLineRight","state","setValue","name","page","isTabActive","onPressHandler","onLayoutHandler","activeTabStyle","textStyle","activeTextStyle","tabHeaderStyle","headerContent","children","undefined","textColor","fontWeight","fontSize","measureTab","event","nativeEvent","layout","height","_value","render","variables","context","tabUnderlineStyle","topTabBarActiveBorderColor","bottom","dynamicTabUnderline","styles","container","onContainerLayout","scrollView","onTabContainerLayout","map","bind","UNSAFE_componentWillReceiveProps","nextProps","setState","e","StyledTab","mapPropsToStyleNames","ScrollableTab","create","tab","alignItems","justifyContent","paddingLeft","paddingRight","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderColor","flexDirection"],"mappings":"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","file":"ScrollableTabBar.js","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport createReactClass from 'create-react-class';\r\nimport { isEqual } from 'lodash';\r\nimport { connectStyle, StyleProvider } from 'native-base-shoutem-theme';\r\nimport mapPropsToStyleNames from '../../utils/mapPropsToStyleNames';\r\nimport variable from './../../theme/variables/platform';\r\nimport { TabHeading } from '../TabHeading';\r\nimport { Text } from '../Text';\r\nimport { TabContainer } from '../TabContainer';\r\nimport { ViewPropTypes } from '../../utils';\r\nconst Button = require('./Button');\r\nconst ReactNative = require('react-native');\r\nconst {\r\n  View,\r\n  Animated,\r\n  StyleSheet,\r\n  ScrollView,\r\n  Platform,\r\n  Dimensions\r\n} = ReactNative;\r\n\r\nconst WINDOW_WIDTH = Dimensions.get('window').width;\r\n\r\nconst ScrollableTabBar = createReactClass({\r\n  propTypes: {\r\n    goToPage: PropTypes.func,\r\n    activeTab: PropTypes.number,\r\n    tabs: PropTypes.array,\r\n    backgroundColor: PropTypes.string,\r\n    activeTextColor: PropTypes.string,\r\n    inactiveTextColor: PropTypes.string,\r\n    scrollOffset: PropTypes.number,\r\n    style: ViewPropTypes.style,\r\n    tabStyle: ViewPropTypes.style,\r\n    tabsContainerStyle: ViewPropTypes.style,\r\n    renderTab: PropTypes.func,\r\n    underlineStyle: ViewPropTypes.style,\r\n    onScroll: PropTypes.func\r\n  },\r\n  contextTypes: {\r\n    theme: PropTypes.object\r\n  },\r\n\r\n  getDefaultProps() {\r\n    return {\r\n      scrollOffset: 52,\r\n      activeTextColor: 'navy',\r\n      inactiveTextColor: 'black',\r\n      backgroundColor: variable.tabDefaultBg,\r\n      style: {},\r\n      tabStyle: {},\r\n      tabsContainerStyle: {},\r\n      underlineStyle: {},\r\n      tabFontSize: variable.tabFontSize\r\n    };\r\n  },\r\n\r\n  getInitialState() {\r\n    this._tabsMeasurements = [];\r\n    return {\r\n      _leftTabUnderline: new Animated.Value(0),\r\n      _widthTabUnderline: new Animated.Value(0),\r\n      _containerWidth: null\r\n    };\r\n  },\r\n\r\n  componentDidMount() {\r\n    this.props.scrollValue.addListener(this.updateView);\r\n  },\r\n\r\n  updateView(offset) {\r\n    const position = Math.floor(offset.value);\r\n    const pageOffset = offset.value % 1;\r\n    const tabCount = this.props.tabs.length;\r\n    const lastTabPosition = tabCount - 1;\r\n\r\n    if (tabCount === 0 || offset.value < 0 || offset.value > lastTabPosition) {\r\n      return;\r\n    }\r\n\r\n    if (\r\n      this.necessarilyMeasurementsCompleted(\r\n        position,\r\n        position === lastTabPosition\r\n      )\r\n    ) {\r\n      this.updateTabPanel(position, pageOffset);\r\n      this.updateTabUnderline(position, pageOffset, tabCount);\r\n    }\r\n  },\r\n\r\n  necessarilyMeasurementsCompleted(position, isLastTab) {\r\n    return (\r\n      this._tabsMeasurements[position] &&\r\n      (isLastTab || this._tabsMeasurements[position + 1]) &&\r\n      this._tabContainerMeasurements &&\r\n      this._containerMeasurements\r\n    );\r\n  },\r\n\r\n  updateTabPanel(position, pageOffset) {\r\n    const containerWidth = this._containerMeasurements.width;\r\n    const tabWidth = this._tabsMeasurements[position].width;\r\n    const nextTabMeasurements = this._tabsMeasurements[position + 1];\r\n    const nextTabWidth =\r\n      (nextTabMeasurements && nextTabMeasurements.width) || 0;\r\n    const tabOffset = this._tabsMeasurements[position].left;\r\n    const absolutePageOffset = pageOffset * tabWidth;\r\n    let newScrollX = tabOffset + absolutePageOffset;\r\n\r\n    // center tab and smooth tab change (for when tabWidth changes a lot between two tabs)\r\n    newScrollX -=\r\n      (containerWidth -\r\n        (1 - pageOffset) * tabWidth -\r\n        pageOffset * nextTabWidth) /\r\n      2;\r\n    newScrollX = newScrollX >= 0 ? newScrollX : 0;\r\n\r\n    if (Platform.OS === 'android') {\r\n      this._scrollView.scrollTo({ x: newScrollX, y: 0, animated: false });\r\n    } else {\r\n      const rightBoundScroll =\r\n        this._tabContainerMeasurements.width -\r\n        this._containerMeasurements.width;\r\n      newScrollX =\r\n        newScrollX > rightBoundScroll ? rightBoundScroll : newScrollX;\r\n      this._scrollView.scrollTo({ x: newScrollX, y: 0, animated: false });\r\n    }\r\n  },\r\n\r\n  updateTabUnderline(position, pageOffset, tabCount) {\r\n    const lineLeft = this._tabsMeasurements[position].left;\r\n    const lineRight = this._tabsMeasurements[position].right;\r\n\r\n    if (position < tabCount - 1) {\r\n      const nextTabLeft = this._tabsMeasurements[position + 1].left;\r\n      const nextTabRight = this._tabsMeasurements[position + 1].right;\r\n\r\n      const newLineLeft =\r\n        pageOffset * nextTabLeft + (1 - pageOffset) * lineLeft;\r\n      const newLineRight =\r\n        pageOffset * nextTabRight + (1 - pageOffset) * lineRight;\r\n\r\n      this.state._leftTabUnderline.setValue(newLineLeft);\r\n      this.state._widthTabUnderline.setValue(newLineRight - newLineLeft);\r\n    } else {\r\n      this.state._leftTabUnderline.setValue(lineLeft);\r\n      this.state._widthTabUnderline.setValue(lineRight - lineLeft);\r\n    }\r\n  },\r\n\r\n  renderTab(\r\n    name,\r\n    page,\r\n    isTabActive,\r\n    onPressHandler,\r\n    onLayoutHandler,\r\n    tabStyle,\r\n    activeTabStyle,\r\n    textStyle,\r\n    activeTextStyle,\r\n    tabHeaderStyle,\r\n    tabFontSize\r\n  ) {\r\n    const headerContent =\r\n      typeof name !== 'string' ? name.props.children : undefined;\r\n    const { activeTextColor, inactiveTextColor } = this.props;\r\n    const textColor = isTabActive ? activeTextColor : inactiveTextColor;\r\n    const fontWeight = isTabActive ? 'bold' : 'normal';\r\n\r\n    if (typeof name === 'string') {\r\n      return (\r\n        <Button\r\n          key={`${name}_${page}`}\r\n          onPress={() => onPressHandler(page)}\r\n          onLayout={onLayoutHandler}\r\n        >\r\n          <TabHeading\r\n            scrollable\r\n            style={isTabActive ? activeTabStyle : tabStyle}\r\n            active={isTabActive}\r\n          >\r\n            <Text\r\n              style={[\r\n                isTabActive ? activeTextStyle : textStyle,\r\n                { fontSize: tabFontSize }\r\n              ]}\r\n            >\r\n              {name}\r\n            </Text>\r\n          </TabHeading>\r\n        </Button>\r\n      );\r\n    }\r\n    return (\r\n      <Button\r\n        key={`${name}_${page}`}\r\n        onPress={() => onPressHandler(page)}\r\n        onLayout={onLayoutHandler}\r\n      >\r\n        <TabHeading scrollable style={tabHeaderStyle} active={isTabActive}>\r\n          {headerContent}\r\n        </TabHeading>\r\n      </Button>\r\n    );\r\n    \r\n  },\r\n\r\n  measureTab(page, event) {\r\n    const { x, width, height } = event.nativeEvent.layout;\r\n    this._tabsMeasurements[page] = { left: x, right: x + width, width, height };\r\n    this.updateView({ value: this.props.scrollValue._value });\r\n  },\r\n\r\n  render() {\r\n    const variables = this.context.theme\r\n      ? this.context.theme['@@shoutem.theme/themeStyle'].variables\r\n      : variable;\r\n    const tabUnderlineStyle = {\r\n      position: 'absolute',\r\n      height: 4,\r\n      backgroundColor: variables.topTabBarActiveBorderColor,\r\n      bottom: 0\r\n    };\r\n\r\n    const dynamicTabUnderline = {\r\n      left: this.state._leftTabUnderline,\r\n      width: this.state._widthTabUnderline\r\n    };\r\n\r\n    return (\r\n      <View\r\n        style={[\r\n          styles.container,\r\n          { backgroundColor: this.props.backgroundColor },\r\n          this.props.style\r\n        ]}\r\n        onLayout={this.onContainerLayout}\r\n      >\r\n        <ScrollView\r\n          automaticallyAdjustContentInsets={false}\r\n          ref={scrollView => {\r\n            this._scrollView = scrollView;\r\n          }}\r\n          horizontal\r\n          showsHorizontalScrollIndicator={false}\r\n          showsVerticalScrollIndicator={false}\r\n          directionalLockEnabled\r\n          onScroll={this.props.onScroll}\r\n          bounces={false}\r\n          scrollsToTop={false}\r\n        >\r\n          <View\r\n            style={[\r\n              styles.tabs,\r\n              { width: this.state._containerWidth },\r\n              this.props.tabsContainerStyle\r\n            ]}\r\n            ref={'tabContainer'}\r\n            onLayout={this.onTabContainerLayout}\r\n          >\r\n            {this.props.tabs.map((name, page) => {\r\n              const isTabActive = this.props.activeTab === page;\r\n              const renderTab = this.props.renderTab || this.renderTab;\r\n              return renderTab(\r\n                name,\r\n                page,\r\n                isTabActive,\r\n                this.props.goToPage,\r\n                this.measureTab.bind(this, page),\r\n                this.props.tabStyle[page],\r\n                this.props.activeTabStyle[page],\r\n                this.props.textStyle[page],\r\n                this.props.activeTextStyle[page],\r\n                this.props.tabHeaderStyle[page],\r\n                variables.tabFontSize\r\n              );\r\n            })}\r\n            <Animated.View\r\n              style={[\r\n                tabUnderlineStyle,\r\n                dynamicTabUnderline,\r\n                this.props.underlineStyle\r\n              ]}\r\n            />\r\n          </View>\r\n        </ScrollView>\r\n      </View>\r\n    );\r\n  },\r\n\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    // If the tabs change, force the width of the tabs container to be recalculated\r\n    if (\r\n      !isEqual(this.props.tabs, nextProps.tabs) &&\r\n      this.state._containerWidth\r\n    ) {\r\n      this.setState({ _containerWidth: null });\r\n    }\r\n  },\r\n\r\n  onTabContainerLayout(e) {\r\n    this._tabContainerMeasurements = e.nativeEvent.layout;\r\n    let width = this._tabContainerMeasurements.width;\r\n    if (width < WINDOW_WIDTH) {\r\n      width = WINDOW_WIDTH;\r\n    }\r\n    this.setState({ _containerWidth: width });\r\n    this.updateView({ value: this.props.scrollValue._value });\r\n  },\r\n\r\n  onContainerLayout(e) {\r\n    this._containerMeasurements = e.nativeEvent.layout;\r\n    this.updateView({ value: this.props.scrollValue._value });\r\n  }\r\n});\r\n\r\n// module.exports = ScrollableTabBar;\r\nconst StyledTab = connectStyle(\r\n  'NativeBase.ScrollableTab',\r\n  {},\r\n  mapPropsToStyleNames\r\n)(ScrollableTabBar);\r\nexport { StyledTab as ScrollableTab };\r\nconst styles = StyleSheet.create({\r\n  tab: {\r\n    height: 49,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingLeft: 20,\r\n    paddingRight: 20\r\n  },\r\n  container: {\r\n    height: 50,\r\n    borderWidth: 1,\r\n    borderTopWidth: 0,\r\n    borderLeftWidth: 0,\r\n    borderRightWidth: 0,\r\n    borderColor: '#ccc'\r\n  },\r\n  tabs: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-around'\r\n  }\r\n});\r\n"]}