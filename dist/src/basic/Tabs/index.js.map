{"version":3,"sources":["../../../../src/basic/Tabs/index.js"],"names":["React","require","Component","ReactNative","Dimensions","View","Animated","ScrollView","StyleSheet","Platform","TimerMixin","SceneComponent","DefaultTabBar","ScrollableTabBar","ScrollableTabView","mixins","statics","propTypes","tabBarPosition","PropTypes","oneOf","initialPage","number","page","onChangeTab","func","onScroll","renderTabBar","any","style","ViewPropTypes","contentProps","object","scrollWithoutAnimation","bool","locked","prerenderingSiblingsNumber","getDefaultProps","getInitialState","currentPage","props","scrollValue","Value","containerWidth","get","width","sceneKeys","newSceneKeys","componentDidMount","scrollFn","scrollView","state","setValue","InteractionManager","runAfterInteractions","componentWillReceiveProps","children","updateSceneKeys","goToPage","pageNumber","offset","scrollTo","x","y","animated","callback","_onChangeTab","bind","cloneElement","newKeys","previousKeys","setState","_children","forEach","child","idx","key","_makeSceneKey","_keyExists","_shouldRenderSceneKey","push","currentPageKey","numOfSibling","find","sceneKey","heading","renderScrollableContent","scenes","_composeScenes","offsetX","e","nativeEvent","contentOffset","_updateScrollValue","_onMomentumScrollBeginAndEnd","map","Math","round","_updateSelectedPage","nextPage","localNextPage","position","prevPage","i","ref","from","value","_handleLayout","layout","requestAnimationFrame","Children","render","overlayTabs","tabBarProps","tabs","tabStyle","activeTabStyle","textStyle","activeTextStyle","tabHeaderStyle","_","undefined","activeTab","disabled","tabBarBackgroundColor","backgroundColor","tabBarActiveTextColor","activeTextColor","tabBarInactiveTextColor","inactiveTextColor","tabBarTextStyle","tabBarUnderlineStyle","underlineStyle","tabContainerStyle","left","right","styles","container","create","flex","scrollableContentAndroid"],"mappings":"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","file":"index.js","sourcesContent":["import PropTypes from \"prop-types\";\nimport createReactClass from \"create-react-class\";\nimport _ from \"lodash\";\nimport { InteractionManager, ViewPropTypes } from \"../../utils\";\nconst React = require(\"react\");\nconst { Component } = React;\nconst ReactNative = require(\"react-native\");\nconst {\n    Dimensions,\n    View,\n    Animated,\n    ScrollView,\n    StyleSheet,\n    Platform\n} = ReactNative;\nconst TimerMixin = require(\"react-timer-mixin\");\n\nconst SceneComponent = require(\"./SceneComponent\");\nconst { DefaultTabBar } = require(\"./DefaultTabBar\");\nconst { ScrollableTabBar } = require(\"./ScrollableTabBar\");\n\nconst ScrollableTabView = createReactClass({\n    mixins: [TimerMixin],\n    statics: {\n        DefaultTabBar,\n        ScrollableTabBar\n    },\n\n    propTypes: {\n        tabBarPosition: PropTypes.oneOf([\n            \"top\",\n            \"bottom\",\n            \"overlayTop\",\n            \"overlayBottom\"\n        ]),\n        initialPage: PropTypes.number,\n        page: PropTypes.number,\n        onChangeTab: PropTypes.func,\n        onScroll: PropTypes.func,\n        renderTabBar: PropTypes.any,\n        style: ViewPropTypes.style,\n        contentProps: PropTypes.object,\n        scrollWithoutAnimation: PropTypes.bool,\n        locked: PropTypes.bool,\n        prerenderingSiblingsNumber: PropTypes.number\n    },\n\n    getDefaultProps() {\n        return {\n            tabBarPosition: \"top\",\n            initialPage: 0,\n            page: -1,\n            onChangeTab: () => {},\n            onScroll: () => {},\n            contentProps: {},\n            scrollWithoutAnimation: false,\n            locked: false,\n            prerenderingSiblingsNumber: 0\n        };\n    },\n\n    getInitialState() {\n        return {\n            currentPage: this.props.initialPage,\n            scrollValue: new Animated.Value(this.props.initialPage),\n            containerWidth: Dimensions.get(\"window\").width,\n            sceneKeys: this.newSceneKeys({\n                currentPage: this.props.initialPage\n            })\n        };\n    },\n\n    componentDidMount() {\n        const scrollFn = () => {\n            if (this.scrollView) {\n                this.state.scrollValue.setValue(this.props.initialPage);\n            }\n        };\n        InteractionManager.runAfterInteractions(scrollFn);\n    },\n\n    componentWillReceiveProps(props) {\n        if (props.children !== this.props.children) {\n            this.updateSceneKeys({\n                page: this.state.currentPage,\n                children: props.children\n            });\n        }\n\n        if (props.page >= 0 && props.page !== this.state.currentPage) {\n            this.goToPage(props.page);\n        }\n    },\n\n    goToPage(pageNumber) {\n        const offset = pageNumber * this.state.containerWidth;\n        if (this.scrollView) {\n            this.scrollView.scrollTo({\n                x: offset,\n                y: 0,\n                animated: !this.props.scrollWithoutAnimation\n            });\n        }\n\n        const currentPage = this.state.currentPage;\n        this.updateSceneKeys({\n            page: pageNumber,\n            callback: this._onChangeTab.bind(this, currentPage, pageNumber)\n        });\n    },\n\n    renderTabBar(props) {\n        if (this.props.renderTabBar === false) {\n            return null;\n        } else if (this.props.renderTabBar) {\n            return React.cloneElement(this.props.renderTabBar(props), props);\n        } else {\n            return <DefaultTabBar {...props} />;\n        }\n    },\n\n    updateSceneKeys({\n        page,\n        children = this.props.children,\n        callback = () => {}\n    }) {\n        let newKeys = this.newSceneKeys({\n            previousKeys: this.state.sceneKeys,\n            currentPage: page,\n            children\n        });\n        this.setState({ currentPage: page, sceneKeys: newKeys }, callback);\n    },\n\n    newSceneKeys({\n        previousKeys = [],\n        currentPage = 0,\n        children = this.props.children\n    }) {\n        let newKeys = [];\n        this._children(children).forEach((child, idx) => {\n            let key = this._makeSceneKey(child, idx);\n            if (\n                this._keyExists(previousKeys, key) ||\n                this._shouldRenderSceneKey(idx, currentPage)\n            ) {\n                newKeys.push(key);\n            }\n        });\n        return newKeys;\n    },\n\n    _shouldRenderSceneKey(idx, currentPageKey) {\n        let numOfSibling = this.props.prerenderingSiblingsNumber;\n        return (\n            idx < currentPageKey + numOfSibling + 1 &&\n            idx > currentPageKey - numOfSibling - 1\n        );\n    },\n\n    _keyExists(sceneKeys, key) {\n        return sceneKeys.find(sceneKey => key === sceneKey);\n    },\n\n    _makeSceneKey(child, idx) {\n        return child.props.heading + \"_\" + idx;\n    },\n\n    renderScrollableContent() {\n        const scenes = this._composeScenes();\n        return (\n            <ScrollView\n                horizontal\n                pagingEnabled\n                automaticallyAdjustContentInsets={false}\n                keyboardShouldPersistTaps=\"handled\"\n                contentOffset={{\n                    x: this.props.initialPage * this.state.containerWidth\n                }}\n                ref={scrollView => {\n                    this.scrollView = scrollView;\n                }}\n                onScroll={e => {\n                    const offsetX = e.nativeEvent.contentOffset.x;\n                    this._updateScrollValue(\n                        offsetX / this.state.containerWidth\n                    );\n                }}\n                onMomentumScrollBegin={this._onMomentumScrollBeginAndEnd}\n                onMomentumScrollEnd={this._onMomentumScrollBeginAndEnd}\n                scrollEventThrottle={16}\n                scrollsToTop={false}\n                showsHorizontalScrollIndicator={false}\n                scrollEnabled={!this.props.locked}\n                directionalLockEnabled\n                alwaysBounceVertical={false}\n                keyboardDismissMode=\"on-drag\"\n                {...this.props.contentProps}\n            >\n                {scenes}\n            </ScrollView>\n        );\n    },\n\n    _composeScenes() {\n        return this._children().map((child, idx) => {\n            let key = this._makeSceneKey(child, idx);\n            return (\n                <SceneComponent\n                    key={child.key}\n                    shouldUpdated={this._shouldRenderSceneKey(\n                        idx,\n                        this.state.currentPage\n                    )}\n                    style={{ width: this.state.containerWidth }}\n                >\n                    {this._keyExists(this.state.sceneKeys, key) ? (\n                        child\n                    ) : (\n                        <View heading={child.props.heading} />\n                    )}\n                </SceneComponent>\n            );\n        });\n    },\n\n    _onMomentumScrollBeginAndEnd(e) {\n        const offsetX = e.nativeEvent.contentOffset.x;\n        const page = Math.round(offsetX / this.state.containerWidth);\n        if (this.state.currentPage !== page) {\n            this._updateSelectedPage(page);\n        }\n    },\n\n    _updateSelectedPage(nextPage) {\n        let localNextPage = nextPage;\n        if (typeof localNextPage === \"object\") {\n            localNextPage = nextPage.nativeEvent.position;\n        }\n\n        const currentPage = this.state.currentPage;\n        this.updateSceneKeys({\n            page: localNextPage,\n            callback: this._onChangeTab.bind(this, currentPage, localNextPage)\n        });\n    },\n\n    _onChangeTab(prevPage, currentPage) {\n        this.props.onChangeTab({\n            i: currentPage,\n            ref: this._children()[currentPage],\n            from: prevPage\n        });\n    },\n\n    _updateScrollValue(value) {\n        this.state.scrollValue.setValue(value);\n        this.props.onScroll(value);\n    },\n\n    _handleLayout(e) {\n        const { width } = e.nativeEvent.layout;\n\n        if (Math.round(width) !== Math.round(this.state.containerWidth)) {\n            this.setState({ containerWidth: width });\n            this.requestAnimationFrame(() => {\n                this.goToPage(this.state.currentPage);\n            });\n        }\n    },\n\n    _children(children = this.props.children) {\n        return React.Children.map(children, child => child);\n    },\n\n    render() {\n        let overlayTabs =\n            this.props.tabBarPosition === \"overlayTop\" ||\n            this.props.tabBarPosition === \"overlayBottom\";\n        let tabBarProps = {\n            goToPage: this.goToPage,\n            tabs: this._children().map(child => child.props.heading),\n            tabStyle: this._children().map(child => child.props.tabStyle),\n            activeTabStyle: this._children().map(\n                child => child.props.activeTabStyle\n            ),\n            textStyle: this._children().map(child => child.props.textStyle),\n            activeTextStyle: this._children().map(\n                child => child.props.activeTextStyle\n            ),\n            tabHeaderStyle: this._children().map(child =>\n                _.get(child.props.heading.props, \"style\", undefined)\n            ),\n            activeTab: this.state.currentPage,\n            scrollValue: this.state.scrollValue,\n            containerWidth: this.state.containerWidth,\n            disabled: this._children().map(child => child.props.disabled)\n        };\n\n        if (this.props.tabBarBackgroundColor) {\n            tabBarProps.backgroundColor = this.props.tabBarBackgroundColor;\n        }\n        if (this.props.tabBarActiveTextColor) {\n            tabBarProps.activeTextColor = this.props.tabBarActiveTextColor;\n        }\n        if (this.props.tabBarInactiveTextColor) {\n            tabBarProps.inactiveTextColor = this.props.tabBarInactiveTextColor;\n        }\n        if (this.props.tabBarTextStyle) {\n            tabBarProps.textStyle = this.props.tabBarTextStyle;\n        }\n        if (this.props.tabBarUnderlineStyle) {\n            tabBarProps.underlineStyle = this.props.tabBarUnderlineStyle;\n        }\n        if (this.props.tabContainerStyle) {\n            tabBarProps.tabContainerStyle = this.props.tabContainerStyle;\n        }\n        if (overlayTabs) {\n            tabBarProps.style = {\n                position: \"absolute\",\n                left: 0,\n                right: 0,\n                [this.props.tabBarPosition === \"overlayTop\"\n                    ? \"top\"\n                    : \"bottom\"]: 0,\n                backgroundColor: \"rgba(255, 255, 255, 0.7)\"\n            };\n        }\n\n        return (\n            <View\n                style={[styles.container, this.props.style]}\n                onLayout={this._handleLayout}\n            >\n                {(this.props.tabBarPosition === \"top\" ||\n                    this.props.tabBarPosition === \"overlayTop\") &&\n                    this.renderTabBar(tabBarProps)}\n                {this.renderScrollableContent()}\n                {(this.props.tabBarPosition === \"bottom\" ||\n                    this.props.tabBarPosition === \"overlayBottom\") &&\n                    this.renderTabBar(tabBarProps)}\n            </View>\n        );\n    }\n});\n\nexport default ScrollableTabView;\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1\n    },\n    scrollableContentAndroid: {\n        flex: 1\n    }\n});\n"]}