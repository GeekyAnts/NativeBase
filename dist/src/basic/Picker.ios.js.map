{"version":3,"sources":["../../../src/basic/Picker.ios.js"],"names":["PickerNB","props","state","modalVisible","currentLabel","getLabel","dataSource","children","nextProps","nextLabel","currentDS","nextDS","setState","picker","pickerItem","visible","defaultProps","style","getInitialStyle","itemStyle","item","find","child","value","selectedValue","get","cloneElement","iosIcon","fontSize","lineHeight","color","onPress","_setModalVisible","text","placeholder","renderButton","selectedItem","getSelectedItem","textStyle","note","undefined","renderIcon","renderHeader","headerStyle","shadowOffset","shadowColor","shadowRadius","shadowOpacity","headerBackButtonStyle","headerBackButtonTextStyle","headerBackButtonText","headerTitleStyle","iosHeader","_root","c","supportedOrientations","onValueChange","current","label","itemTextStyle","Item","render","propTypes","func","StyledPickerNB"],"mappings":"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","file":"Picker.ios.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport createReactClass from \"create-react-class\";\r\nimport { Picker, Modal, View, ListView } from \"react-native\";\r\nimport { ViewPropTypes } from '../Utils';\r\nimport _ from \"lodash\";\r\nimport { Text } from \"./Text\";\r\nimport { List } from \"./List\";\r\nimport { IconNB as Icon } from \"./IconNB\";\r\nimport { Radio } from \"./Radio\";\r\nimport { Container } from \"./Container\";\r\nimport { Content } from \"./Content\";\r\nimport { ListItem } from \"./ListItem\";\r\nimport { Button } from \"./Button\";\r\nimport { Header } from \"./Header\";\r\nimport { Title } from \"./Title\";\r\nimport { Left } from \"./Left\";\r\nimport { Right } from \"./Right\";\r\nimport { Body } from \"./Body\";\r\nimport { connectStyle } from \"native-base-shoutem-theme\";\r\nimport computeProps from \"../Utils/computeProps\";\r\n\r\nimport mapPropsToStyleNames from \"../Utils/mapPropsToStyleNames\";\r\n\r\nclass PickerNB extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tmodalVisible: false,\r\n\t\t\tcurrentLabel: this.getLabel(props),\r\n\t\t\tdataSource: props.children,\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tconst currentLabel = this.state.currentLabel;\r\n\t\tconst nextLabel = this.getLabel(nextProps);\r\n\t\tconst currentDS = this.state.dataSource;\r\n\t\tconst nextDS = nextProps.children;\r\n\r\n\t\tif (currentLabel !== nextLabel) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tcurrentLabel: nextLabel,\r\n\t\t\t});\r\n\t\t}\r\n\t\tif (currentDS !== nextDS) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tdataSource: nextDS,\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tgetInitialStyle() {\r\n\t\treturn {\r\n\t\t\tpicker: {\r\n\t\t\t\t// alignItems: 'flex-end'\r\n\t\t\t},\r\n\t\t\tpickerItem: {},\r\n\t\t};\r\n\t}\r\n\t_setModalVisible(visible) {\r\n\t\tthis.setState({ modalVisible: visible });\r\n\t}\r\n\r\n\tprepareRootProps() {\r\n\t\tconst defaultProps = {\r\n\t\t\tstyle: this.getInitialStyle().picker,\r\n\t\t\titemStyle: this.getInitialStyle().pickerItem,\r\n\t\t};\r\n\r\n\t\treturn computeProps(this.props, defaultProps);\r\n\t}\r\n\r\n\tgetLabel(props) {\r\n\t\tconst item = _.find(props.children, child => child.props.value === props.selectedValue);\r\n\t\treturn _.get(item, \"props.label\");\r\n\t}\r\n\r\n\tgetSelectedItem() {\r\n\t\treturn _.find(this.props.children, child => child.props.value === this.props.selectedValue);\r\n\t}\r\n\r\n\trenderIcon() {\r\n\t\treturn React.cloneElement(this.props.iosIcon, {\r\n\t\t\tstyle: { fontSize: 22, lineHeight: 26, color: \"#7a7a7a\" },\r\n\t\t});\r\n\t}\r\n\r\n\trenderButton() {\r\n\t\tconst onPress = () => {\r\n\t\t\tthis._setModalVisible(true);\r\n\t\t};\r\n\t\tconst text = this.state.currentLabel ? this.state.currentLabel : this.props.placeholder;\r\n\t\tif (this.props.renderButton) {\r\n\t\t\treturn this.props.renderButton({\r\n\t\t\t\tonPress,\r\n\t\t\t\ttext,\r\n\t\t\t\tpicker: this,\r\n\t\t\t\tselectedItem: this.getSelectedItem(),\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Button style={this.props.style} dark picker transparent onPress={onPress}>\r\n\t\t\t\t{this.state.currentLabel\r\n\t\t\t\t\t? <Text style={this.props.textStyle} note={this.props.note}>\r\n\t\t\t\t\t\t\t{this.state.currentLabel}\r\n\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t: <Text style={this.props.textStyle} note={this.props.note === false ? false : true}>\r\n\t\t\t\t\t\t\t{this.props.placeholder}\r\n\t\t\t\t\t\t</Text>}\r\n\t\t\t\t{this.props.iosIcon === undefined ? null : this.renderIcon()}\r\n\t\t\t</Button>\r\n\t\t);\r\n\t}\r\n\r\n\trenderHeader() {\r\n\t\treturn this.props.renderHeader\r\n\t\t\t? this.props.renderHeader(() => this._setModalVisible(false))\r\n\t\t\t: <Header style={this.props.headerStyle}>\r\n\t\t\t\t\t<Left>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tshadowOffset: null,\r\n\t\t\t\t\t\t\t\tshadowColor: null,\r\n\t\t\t\t\t\t\t\tshadowRadius: null,\r\n\t\t\t\t\t\t\t\tshadowOpacity: null,\r\n\t\t\t\t\t\t\t\t...this.props.headerBackButtonStyle,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\ttransparent\r\n\t\t\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\t\t\tthis._setModalVisible(false);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Text style={this.props.headerBackButtonTextStyle}>\r\n\t\t\t\t\t\t\t\t{this.props.headerBackButtonText || \"Back\"}\r\n\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Left>\r\n\t\t\t\t\t<Body>\r\n\t\t\t\t\t\t<Title style={this.props.headerTitleStyle}>\r\n\t\t\t\t\t\t\t{this.props.iosHeader || \"Select One\"}\r\n\t\t\t\t\t\t</Title>\r\n\t\t\t\t\t</Body>\r\n\t\t\t\t\t<Right />\r\n\t\t\t\t</Header>;\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<View ref={c => (this._root = c)}>\r\n\t\t\t\t{this.renderButton()}\r\n\t\t\t\t<Modal\r\n\t\t\t\t\tsupportedOrientations={this.props.supportedOrientations || null}\r\n\t\t\t\t\tanimationType=\"slide\"\r\n\t\t\t\t\ttransparent={false}\r\n\t\t\t\t\tvisible={this.state.modalVisible}\r\n\t\t\t\t\tonRequestClose={() => {\r\n\t\t\t\t\t\tthis._setModalVisible(false);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Container>\r\n\t\t\t\t\t\t{this.renderHeader()}\r\n\t\t\t\t\t\t<Content>\r\n\t\t\t\t\t\t\t<List\r\n\t\t\t\t\t\t\t\tdataArray={this.state.dataSource}\r\n\t\t\t\t\t\t\t\trenderRow={child =>\r\n\t\t\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\t\t\tselected={child.props.value === this.props.selectedValue}\r\n\t\t\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t\t\t\tstyle={this.props.itemStyle}\r\n\t\t\t\t\t\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tthis._setModalVisible(false);\r\n\t\t\t\t\t\t\t\t\t\t\tthis.props.onValueChange(child.props.value);\r\n\t\t\t\t\t\t\t\t\t\t\tthis.setState({ current: child.props.label });\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Text style={this.props.itemTextStyle}>\r\n\t\t\t\t\t\t\t\t\t\t\t{child.props.label}\r\n\t\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t\t\t<Right>\r\n\t\t\t\t\t\t\t\t\t\t\t{child.props.value === this.props.selectedValue\r\n\t\t\t\t\t\t\t\t\t\t\t\t? <Radio selected />\r\n\t\t\t\t\t\t\t\t\t\t\t\t: <Radio selected={false} />}\r\n\t\t\t\t\t\t\t\t\t\t</Right>\r\n\t\t\t\t\t\t\t\t\t</ListItem>}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Content>\r\n\t\t\t\t\t</Container>\r\n\t\t\t\t</Modal>\r\n\t\t\t</View>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nPickerNB.Item = createReactClass({\r\n\trender() {\r\n\t\treturn <Picker.Item {...this.props()} />;\r\n\t},\r\n});\r\n\r\nPickerNB.propTypes = {\r\n\t...ViewPropTypes,\r\n\trenderButton: PropTypes.func,\r\n};\r\n\r\nconst StyledPickerNB = connectStyle(\"NativeBase.PickerNB\", {}, mapPropsToStyleNames)(PickerNB);\r\n\r\nexport { StyledPickerNB as PickerNB };\r\n"]}