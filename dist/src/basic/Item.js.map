{"version":3,"sources":["../../../src/basic/Item.js"],"names":["Item","props","state","isFocused","text","topAnim","Animated","Value","opacAnim","floatingLabel","inputProps","value","effect","setState","floatUp","getRef","_inputRef","nextProps","childrenArray","React","Children","toArray","children","item","type","displayName","roundedInputGroup","borderWidth","rounded","variables","undefined","borderRadius","inputGroupRoundedBorderRadius","placeholderValue","placeholder","e","timing","toValue","duration","start","defaultProps","style","getInitialStyle","newChildren","label","labelProps","Label","Input","icon","iconProps","Icon","image","Thumbnail","length","flag","isIcon","i","name","push","position","left","last","right","top","opacity","paddingTop","Platform","OS","paddingBottom","renderLabel","c","getPlacholderValue","onFocus","onBlur","onChangeText","isImage","marginRight","stackedLabel","flexDirection","flex","width","deviceWidth","newLabel","labelStyle","StyleSheet","flatten","fontSize","lineHeight","createElement","key","float","floatBack","_root","prepareRootProps","renderChildren","Component","propTypes","TouchableOpacity","PropTypes","oneOfType","object","number","array","inlineLabel","bool","fixedLabel","success","error","StyledItem","mapPropsToStyleNames"],"mappings":"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","file":"Item.js","sourcesContent":["/* eslint-disable no-plusplus */\r\n/* eslint-disable no-loop-func */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  TouchableOpacity,\r\n  Animated,\r\n  Platform,\r\n  View,\r\n  StyleSheet\r\n} from 'react-native';\r\nimport { isArray, remove } from 'lodash';\r\nimport { connectStyle } from 'native-base-shoutem-theme';\r\n\r\nimport variables from '../theme/variables/platform';\r\nimport computeProps from '../utils/computeProps';\r\nimport mapPropsToStyleNames from '../utils/mapPropsToStyleNames';\r\n\r\nimport { Input } from './Input';\r\nimport { Label } from './Label';\r\nimport { Icon } from './Icon';\r\nimport { Thumbnail } from './Thumbnail';\r\n\r\nclass Item extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isFocused: false,\r\n      text: '',\r\n      topAnim: new Animated.Value(18),\r\n      opacAnim: new Animated.Value(1)\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    if (this.props.floatingLabel) {\r\n      if (this.inputProps && this.inputProps.value) {\r\n        const effect = () => {\r\n          this.setState({ isFocused: true });\r\n        };\r\n        this.floatUp(-16);\r\n        effect();\r\n      }\r\n      if (this.inputProps && this.inputProps.getRef)\r\n        this.inputProps.getRef(this._inputRef);\r\n    }\r\n  }\r\n\r\n  // Temporary fix to avoid the crash.\r\n  // To be refactored to getDerivedStateFromProps.\r\n\r\n  // eslint-disable-next-line camelcase\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    const childrenArray = React.Children.toArray(nextProps.children);\r\n\r\n    remove(childrenArray, item => {\r\n      if (item.type.displayName === 'Styled(Input)') {\r\n        this.inputProps = item.props;\r\n        return item;\r\n      }\r\n      return null;\r\n    });\r\n    if (this.props.floatingLabel) {\r\n      if (this.inputProps && this.inputProps.value) {\r\n        this.setState({ isFocused: true });\r\n        this.floatUp(-16);\r\n      }\r\n      if (this.inputProps && this.inputProps.getRef)\r\n        this.inputProps.getRef(this._inputRef);\r\n    }\r\n  }\r\n\r\n  getInitialStyle() {\r\n    return {\r\n      roundedInputGroup: {\r\n        borderWidth: this.props.rounded ? variables.borderWidth * 2 : undefined,\r\n        borderRadius: this.props.rounded\r\n          ? variables.inputGroupRoundedBorderRadius\r\n          : undefined\r\n      }\r\n    };\r\n  }\r\n\r\n  getPlacholderValue(inputProps) {\r\n    let placeholderValue;\r\n\r\n    if (isArray(this.props.children) && this.props.children[0].props.children) {\r\n      placeholderValue = null;\r\n    } else {\r\n      placeholderValue = inputProps.placeholder;\r\n    }\r\n\r\n    return placeholderValue;\r\n  }\r\n\r\n  floatBack(e) {\r\n    Animated.timing(this.state.topAnim, {\r\n      toValue: e || 18,\r\n      duration: 150\r\n    }).start();\r\n    Animated.timing(this.state.opacAnim, {\r\n      toValue: 1,\r\n      duration: 150\r\n    }).start();\r\n  }\r\n\r\n  floatUp(e) {\r\n    Animated.timing(this.state.topAnim, {\r\n      toValue: e || -22,\r\n      duration: 150\r\n    }).start();\r\n    Animated.timing(this.state.opacAnim, {\r\n      toValue: 0.7,\r\n      duration: 150\r\n    }).start();\r\n  }\r\n\r\n  prepareRootProps() {\r\n    const defaultProps = {\r\n      style: this.getInitialStyle().roundedInputGroup\r\n    };\r\n\r\n    return computeProps(this.props, defaultProps);\r\n  }\r\n\r\n  renderChildren() {\r\n    const newChildren = [];\r\n    const childrenArray = React.Children.toArray(this.props.children);\r\n\r\n    let label = [];\r\n    let labelProps = {};\r\n    label = remove(childrenArray, item => {\r\n      if (item.type === Label) {\r\n        labelProps = item.props;\r\n        return item;\r\n      }\r\n      return null;\r\n    });\r\n\r\n    let inputProps = {};\r\n    remove(childrenArray, item => {\r\n      if (item.type === Input) {\r\n        inputProps = item.props;\r\n        this.inputProps = item.props;\r\n        return item;\r\n      }\r\n      return null;\r\n    });\r\n\r\n    let icon = [];\r\n    let iconProps = {};\r\n    icon = remove(childrenArray, item => {\r\n      if (item.type === Icon) {\r\n        iconProps = item.props;\r\n        return item;\r\n      }\r\n      return null;\r\n    });\r\n\r\n    let image = [];\r\n    image = remove(childrenArray, item => {\r\n      if (item.type === Thumbnail) {\r\n        return item;\r\n      }\r\n      return null;\r\n    });\r\n\r\n    if (this.props.floatingLabel && icon.length) {\r\n      let flag = true;\r\n      let isIcon = false;\r\n\r\n      for (let i = 0; i < this.props.children.length; i++) {\r\n        if (\r\n          this.props.children[i].props.name &&\r\n          this.props.children[i].type.displayName !== 'Styled(Input)'\r\n        ) {\r\n          isIcon = true;\r\n          newChildren.push(\r\n            <Icon key={[i]} {...this.props.children[i].props} />\r\n          );\r\n        }\r\n\r\n        if (\r\n          (this.props.children[i].props.children ||\r\n            this.props.children[i].props.placeholder) &&\r\n          flag\r\n        ) {\r\n          flag = false;\r\n\r\n          newChildren.push(\r\n            <Animated.View\r\n              key=\"float\"\r\n              style={{\r\n                position: 'absolute',\r\n                left:\r\n                  this.props.last && isIcon\r\n                    ? 40\r\n                    : this.props.last\r\n                    ? 15\r\n                    : isIcon\r\n                    ? 26\r\n                    : 0,\r\n                right: 0,\r\n                top: this.state.topAnim,\r\n                opacity: this.state.opacAnim,\r\n                paddingTop: Platform.OS === 'ios' ? undefined : undefined,\r\n                paddingBottom: Platform.OS === 'ios' ? undefined : 12\r\n              }}\r\n            >\r\n              <Label {...labelProps}>\r\n                {this.renderLabel(label, labelProps)}\r\n              </Label>\r\n            </Animated.View>\r\n          );\r\n\r\n          newChildren.push(\r\n            <Input\r\n              ref={c => (this._inputRef = c)}\r\n              key=\"l2\"\r\n              {...inputProps}\r\n              placeholder={this.getPlacholderValue(inputProps)}\r\n              onFocus={() => {\r\n                this.setState({ isFocused: true });\r\n                if (inputProps.onFocus) {\r\n                  inputProps.onFocus();\r\n                }\r\n              }}\r\n              onBlur={e => {\r\n                if (inputProps.value) {\r\n                  this.setState({\r\n                    isFocused: true\r\n                  });\r\n                } else if (!this.state.text.length) {\r\n                  this.setState({ isFocused: false });\r\n                }\r\n\r\n                if (inputProps.onBlur) {\r\n                  inputProps.onBlur(e);\r\n                }\r\n              }}\r\n              onChangeText={text => {\r\n                this.setState({ text });\r\n                if (inputProps.onChangeText) {\r\n                  inputProps.onChangeText(text);\r\n                }\r\n              }}\r\n            />\r\n          );\r\n        }\r\n      }\r\n    } else if (this.props.floatingLabel && image.length) {\r\n      let isImage = false;\r\n      for (let i = 0; i < this.props.children.length; i++) {\r\n        if (this.props.children[i].type.displayName === 'Styled(Thumbnail)') {\r\n          isImage = true;\r\n\r\n          newChildren.push(\r\n            <Thumbnail\r\n              small\r\n              key={[i]}\r\n              {...this.props.children[i].props}\r\n              style={{\r\n                right: 10,\r\n                left: i === this.props.children.length - 1 ? undefined : 0\r\n              }}\r\n            />\r\n          );\r\n        }\r\n\r\n        if (this.props.children[i].props.children) {\r\n          newChildren.push(\r\n            <Animated.View\r\n              key=\"float\"\r\n              style={{\r\n                position: 'absolute',\r\n                left:\r\n                  this.props.last && isImage\r\n                    ? 57\r\n                    : this.props.last\r\n                    ? 15\r\n                    : isImage\r\n                    ? 42\r\n                    : 0,\r\n                right: 0,\r\n                top: this.state.topAnim,\r\n                opacity: this.state.opacAnim,\r\n                paddingTop: Platform.OS === 'ios' ? undefined : undefined,\r\n                paddingBottom: Platform.OS === 'ios' ? undefined : 12\r\n              }}\r\n            >\r\n              <Label {...labelProps}>\r\n                {this.renderLabel(label, labelProps)}\r\n              </Label>\r\n            </Animated.View>\r\n          );\r\n\r\n          newChildren.push(\r\n            <Input\r\n              ref={c => (this._inputRef = c)}\r\n              key=\"l2\"\r\n              {...inputProps}\r\n              placeholder={this.getPlacholderValue(inputProps)}\r\n              onFocus={() => {\r\n                this.setState({ isFocused: true });\r\n                inputProps.onFocus && inputProps.onFocus();\r\n              }}\r\n              onBlur={e => {\r\n                inputProps.value\r\n                  ? this.setState({ isFocused: true })\r\n                  : !this.state.text.length &&\r\n                    this.setState({ isFocused: false });\r\n                inputProps.onBlur && inputProps.onBlur(e);\r\n              }}\r\n              onChangeText={text => {\r\n                this.setState({ text });\r\n                inputProps.onChangeText && inputProps.onChangeText(text);\r\n              }}\r\n              style={{\r\n                left:\r\n                  this.props.last && isImage\r\n                    ? 10\r\n                    : this.props.last\r\n                    ? 4\r\n                    : isImage\r\n                    ? 10\r\n                    : 0,\r\n                marginRight: 12\r\n              }}\r\n            />\r\n          );\r\n        }\r\n      }\r\n    } else if (this.props.floatingLabel) {\r\n      newChildren.push(\r\n        <Animated.View\r\n          key=\"float\"\r\n          style={{\r\n            position: 'absolute',\r\n            left: this.props.last ? 15 : 0,\r\n            right: 0,\r\n            top: this.state.topAnim,\r\n            opacity: this.state.opacAnim,\r\n            paddingTop: Platform.OS === 'ios' ? undefined : undefined,\r\n            paddingBottom: Platform.OS === 'ios' ? undefined : 12\r\n          }}\r\n        >\r\n          <Label {...labelProps}>{this.renderLabel(label, labelProps)}</Label>\r\n        </Animated.View>\r\n      );\r\n\r\n      newChildren.push(\r\n        <Input\r\n          ref={c => (this._inputRef = c)}\r\n          value={this.state.text}\r\n          key=\"l2\"\r\n          {...inputProps}\r\n          placeholder={this.getPlacholderValue(inputProps)}\r\n          onFocus={() => {\r\n            this.setState({ isFocused: true });\r\n            inputProps.onFocus && inputProps.onFocus();\r\n          }}\r\n          onBlur={e => {\r\n            inputProps.value\r\n              ? this.setState({ isFocused: true })\r\n              : !this.state.text.length && this.setState({ isFocused: false });\r\n            inputProps.onBlur && inputProps.onBlur(e);\r\n          }}\r\n          onChangeText={text => {\r\n            this.setState({ text });\r\n            inputProps.onChangeText && inputProps.onChangeText(text);\r\n          }}\r\n        />\r\n      );\r\n    } else if (this.props.stackedLabel && icon.length) {\r\n      newChildren.push(\r\n        <View\r\n          key=\"s\"\r\n          style={{\r\n            flexDirection: 'row',\r\n            flex: 1,\r\n            width: variables.deviceWidth - 15\r\n          }}\r\n        >\r\n          <Icon key=\"s1\" {...iconProps} />\r\n          <View style={{ flexDirection: 'column' }}>\r\n            <Label key=\"s2\" {...labelProps} />\r\n            <Input\r\n              key=\"s3\"\r\n              {...inputProps}\r\n              style={{ width: variables.deviceWidth - 40 }}\r\n            />\r\n          </View>\r\n        </View>\r\n      );\r\n    } else {\r\n      return this.props.children;\r\n    }\r\n    return newChildren;\r\n  }\r\n\r\n  renderLabel(label, labelProps) {\r\n    const newLabel = [];\r\n    const labelStyle = StyleSheet.flatten([\r\n      { fontSize: 15, lineHeight: 30 },\r\n      labelProps.style\r\n    ]);\r\n    if (this.props.floatingLabel) {\r\n      if (this.state.isFocused) {\r\n        newLabel.push(\r\n          React.createElement(Label, {\r\n            ...labelProps,\r\n            key: 'newFLabel',\r\n            float: true,\r\n            style: labelStyle\r\n          })\r\n        );\r\n        this.floatUp(-16);\r\n      } else {\r\n        newLabel.push(label);\r\n        this.floatBack(labelProps.floatBack);\r\n      }\r\n    } else {\r\n      newLabel.push(\r\n        React.createElement(Label, {\r\n          ...labelProps,\r\n          key: 'newLabel'\r\n        })\r\n      );\r\n    }\r\n    return newLabel;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <TouchableOpacity\r\n        ref={c => (this._root = c)}\r\n        {...this.prepareRootProps()}\r\n        activeOpacity={1}\r\n      >\r\n        {this.renderChildren()}\r\n      </TouchableOpacity>\r\n    );\r\n  }\r\n}\r\n\r\nItem.propTypes = {\r\n  ...TouchableOpacity.propTypes,\r\n  style: PropTypes.oneOfType([\r\n    PropTypes.object,\r\n    PropTypes.number,\r\n    PropTypes.array\r\n  ]),\r\n  inlineLabel: PropTypes.bool,\r\n  floatingLabel: PropTypes.bool,\r\n  stackedLabel: PropTypes.bool,\r\n  fixedLabel: PropTypes.bool,\r\n  success: PropTypes.bool,\r\n  error: PropTypes.bool\r\n};\r\n\r\nconst StyledItem = connectStyle('NativeBase.Item', {}, mapPropsToStyleNames)(\r\n  Item\r\n);\r\n\r\nexport { StyledItem as Item };\r\n"]}