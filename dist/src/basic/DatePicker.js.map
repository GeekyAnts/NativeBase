{"version":3,"sources":["../../../src/basic/DatePicker.js"],"names":["DatePicker","props","componentDidMount","setState","defaultDate","Date","disabled","placeHolderText","chosenDate","state","modalVisible","undefined","date","onDateChange","Platform","OS","openAndroidDatePicker","DatePickerAndroid","open","minDate","minimumDate","maxDate","maximumDate","mode","androidMode","newDate","action","year","month","day","selectedDate","code","message","console","warn","formatChosenDate","getDate","getMonth","getFullYear","join","variables","context","theme","variable","showDatePicker","bind","padding","color","datePickerTextColor","textStyle","placeHolderTextStyle","animationType","modalTransparent","backgroundColor","datePickerBg","flex","setDate","locale","timeZoneOffsetInMinutes","React","Component"],"mappings":"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","file":"DatePicker.js","sourcesContent":["import React from \"react\";\nimport {\n  Modal,\n  View,\n  Platform,\n  DatePickerIOS,\n  DatePickerAndroid\n} from \"react-native\";\nimport { Text } from \"native-base\";\nimport variable from \"../theme/variables/platform\";\n\nexport class DatePicker extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      modalVisible: false,\n      defaultDate: new Date(),\n      chosenDate: undefined,\n      disabled: true\n    };\n  }\n\n  componentDidMount = () => {\n    this.setState({\n      defaultDate: this.props.defaultDate ? this.props.defaultDate : new Date(),\n      disabled: this.props.disabled ? true : false\n    });\n    if (!this.props.placeHolderText && this.props.defaultDate) {\n      this.setState({ chosenDate: this.props.defaultDate })\n    }\n  };\n\n  setDate(date) {\n    this.setState({ chosenDate: new Date(date) });\n    if (this.props.onDateChange) {\n      this.props.onDateChange(date);\n    }\n  }\n\n  showDatePicker() {\n    if (Platform.OS === \"android\") {\n      this.openAndroidDatePicker();\n    } else {\n      this.setState({ modalVisible: true });\n    }\n  }\n\n  async openAndroidDatePicker() {\n    try {\n      const newDate = await DatePickerAndroid.open({\n        date: this.state.chosenDate\n          ? this.state.chosenDate\n          : this.state.defaultDate,\n        minDate: this.props.minimumDate,\n        maxDate: this.props.maximumDate,\n        mode: this.props.androidMode\n      });\n      const { action, year, month, day } = newDate;\n      if (action === \"dateSetAction\") {\n        let selectedDate = new Date(year, month, day);\n        this.setState({ chosenDate: selectedDate });\n        this.props.onDateChange(selectedDate);\n      }\n    } catch ({ code, message }) {\n      console.warn(\"Cannot open date picker\", message);\n    }\n  }\n\n  formatChosenDate(date) {\n    if (this.props.formatChosenDate) {\n      return this.props.formatChosenDate(date);\n    }\n    return [\n      date.getDate(),\n      date.getMonth() + 1,\n      date.getFullYear(),\n    ].join('/');\n  }\n\n  render() {\n    const variables = this.context.theme\n      ? this.context.theme[\"@@shoutem.theme/themeStyle\"].variables\n      : variable;\n    return (\n      <View>\n        <View>\n          <Text\n            onPress={!this.state.disabled ? this.showDatePicker.bind(this) : undefined}\n            style={[\n              { padding: 10, color: variables.datePickerTextColor },\n              this.state.chosenDate ? this.props.textStyle : this.props.placeHolderTextStyle\n            ]}\n          >\n            {this.state.chosenDate\n              ? this.formatChosenDate(this.state.chosenDate)\n              : this.props.placeHolderText\n                ? this.props.placeHolderText\n                : \"Select Date\"}\n          </Text>\n          <View>\n            <Modal\n              supportedOrientations={['portrait', 'landscape']}\n              animationType={this.props.animationType}\n              transparent={this.props.modalTransparent} //from api\n              visible={this.state.modalVisible}\n              onRequestClose={() => { }}\n            >\n              <Text\n                onPress={() => this.setState({ modalVisible: false })}\n                style={{ backgroundColor: variables.datePickerBg, flex: 1 }}\n              />\n              <DatePickerIOS\n                date={\n                  this.state.chosenDate\n                    ? this.state.chosenDate\n                    : this.state.defaultDate\n                }\n                onDateChange={this.setDate.bind(this)}\n                minimumDate={this.props.minimumDate}\n                maximumDate={this.props.maximumDate}\n                mode=\"date\"\n                locale={this.props.locale}\n                timeZoneOffsetInMinutes={this.props.timeZoneOffsetInMinutes}\n              />\n            </Modal>\n          </View>\n        </View>\n      </View>\n    );\n  }\n}\n"]}