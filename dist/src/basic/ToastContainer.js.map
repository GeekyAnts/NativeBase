{"version":3,"sources":["../../../src/basic/ToastContainer.js"],"names":["ToastContainer","props","state","modalVisible","fadeAnim","Value","position","opacity","width","elevation","paddingHorizontal","OS","top","getTop","undefined","bottom","config","setState","text","buttonText","type","supportedOrientations","style","buttonTextStyle","buttonStyle","textStyle","onClose","duration","setTimeout","timing","toValue","start","getToastStyle","closeToast","toastInstance","_root","showToast","propTypes","oneOfType","object","number","array","StyledToastContainer"],"mappings":"y2BAAA,4B;AACA,qC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mE;;;AAGMA,c;AACL,wBAAYC,KAAZ,CAAmB;AACZA,KADY;AAElB,MAAKC,KAAL,CAAa;AACZC,aAAc,KADF;AAEZC,SAAU,GAAI,uBAASC,KAAb,CAAmB,CAAnB,CAFE,CAAb,CAFkB;;AAMlB,C;;;;;AAKe;AACf,MAAO;AACNC,SAAU,UADJ;AAENC,QAAS,KAAKL,KAAL,CAAWE,QAFd;AAGNI,MAAO,MAHD;AAINC,UAAW,CAJL;AAKNC,kBAAmB,sBAASC,EAAT,GAAgB,KAAhB,CAAwB,EAAxB,CAA6B,CAL1C;AAMNC,IAAK,KAAKV,KAAL,CAAWI,QAAX,GAAwB,KAAxB,CAAgC,KAAKO,MAAL,EAAhC,CAAgDC,SAN/C;AAONC,OAAQ,KAAKb,KAAL,CAAWI,QAAX,GAAwB,QAAxB,CAAmC,KAAKO,MAAL,EAAnC,CAAmDC,SAPrD,CAAP;;AASA,C;AACQ;AACR,GAAI,sBAASH,EAAT,GAAgB,KAApB,CAA2B;AAC1B,MAAO,GAAP;AACA,CAFD,IAEO;AACN,MAAO,EAAP;AACA;AACD,C;AACqB,oBAAVK,OAAU,MAAVA,MAAU;AACrB,KAAKC,QAAL,CAAc;AACbd,aAAc,IADD;AAEbe,KAAMF,OAAOE,IAFA;AAGbC,WAAYH,OAAOG,UAHN;AAIbC,KAAMJ,OAAOI,IAJA;AAKbd,SAAUU,OAAOV,QAAP,CAAkBU,OAAOV,QAAzB,CAAoC,QALjC;AAMbe,sBAAuBL,OAAOK,qBANjB;AAObC,MAAON,OAAOM,KAPD;AAQbC,gBAAiBP,OAAOO,eARX;AASbC,YAAaR,OAAOQ,WATP;AAUbC,UAAWT,OAAOS,SAVL;AAWbC,QAASV,OAAOU,OAXH,CAAd;;AAaA,GAAIV,OAAOW,QAAP,CAAkB,CAAtB,CAAyB;AACxBC,WAAW,UAAM;AAChB,sBAASC,MAAT,CAAgB,OAAK3B,KAAL,CAAWE,QAA3B,CAAqC;AACpC0B,QAAS,CAD2B;AAEpCH,SAAU,GAF0B,CAArC;AAGGI,KAHH;AAIAH,WAAW,UAAM;AAChB,OAAKX,QAAL,CAAc;AACbd,aAAc,KADD,CAAd;;AAGA,CAJD,CAIG,GAJH;AAKA,CAVD,CAUGa,OAAOW,QAVV;AAWA;AACD,sBAASE,MAAT,CAAgB,KAAK3B,KAAL,CAAWE,QAA3B,CAAqC;AACpC0B,QAAS,CAD2B;AAEpCH,SAAU,GAF0B,CAArC;AAGGI,KAHH;AAIA,C;AACY;AACJL,OADI,CACQ,KAAKxB,KADb,CACJwB,OADI;;AAGZ,GAAGA,SAAW,MAAOA,QAAP,GAAmB,UAAjC,CAA6C;AAC5CA;AACA;;AAED,sBAASG,MAAT,CAAgB,KAAK3B,KAAL,CAAWE,QAA3B,CAAqC;AACpC0B,QAAS,CAD2B;AAEpCH,SAAU,GAF0B,CAArC;AAGGI,KAHH;AAIAH,WAAW,UAAM;AAChB,OAAKX,QAAL,CAAc;AACbd,aAAc,KADD,CAAd;;AAGA,CAJD,CAIG,GAJH;AAKA,C;AACQ;AACR,GAAI,KAAKD,KAAL,CAAWC,YAAf,CAA6B;AAC5B;AACC,oDAAU,IAAV,EAAe,MAAO,KAAK6B,aAAL,EAAtB;AACC;AACC,MAAO,KAAK9B,KAAL,CAAWoB,KADnB;AAEC,OAAQ,KAAKpB,KAAL,CAAWkB,IAAX,EAAmB,QAAnB,CAA8B,IAA9B,CAAqC,KAF9C;AAGC,QAAS,KAAKlB,KAAL,CAAWkB,IAAX,EAAmB,SAAnB,CAA+B,IAA/B,CAAsC,KAHhD;AAIC,QAAS,KAAKlB,KAAL,CAAWkB,IAAX,EAAmB,SAAnB,CAA+B,IAA/B,CAAsC,KAJhD;;AAMC,0CAAM,MAAO,KAAKlB,KAAL,CAAWuB,SAAxB;AACE,KAAKvB,KAAL,CAAWgB,IADb,CAND;;AASE,KAAKhB,KAAL,CAAWiB,UAAX;AACA,8CAAQ,MAAO,KAAKjB,KAAL,CAAWsB,WAA1B,CAAuC,QAAS,yBAAM,QAAKS,UAAL,EAAN,EAAhD;AACC,0CAAM,MAAO,KAAK/B,KAAL,CAAWqB,eAAxB;AACE,KAAKrB,KAAL,CAAWiB,UADb,CADD,CAVF,CADD,CADD;;;;;;AAoBA,CArBD,IAqBO,OAAO,KAAP;AACP,C,0CA7F0B,IAAVH,OAAU,oCAC1B,KAAKkB,aAAL,CAAmBC,KAAnB,CAAyBC,SAAzB,CAAmC,CAAEpB,aAAF,CAAnC,EACA,C;;;AA8FFhB,eAAeqC,SAAf;;AAECf,MAAO,oBAAUgB,SAAV,CAAoB,CAAC,oBAAUC,MAAX,CAAmB,oBAAUC,MAA7B,CAAqC,oBAAUC,KAA/C,CAApB,CAFR;;;AAKA,GAAMC,sBAAuB,yCAAa,2BAAb,CAA0C,EAA1C,iCAAoE1C,cAApE,CAA7B,C;;AAEiCA,c,CAAxB0C,oB","file":"ToastContainer.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { View, Modal, Platform, Animated } from \"react-native\";\r\nimport { ViewPropTypes } from '../Utils';\r\nimport { connectStyle } from \"native-base-shoutem-theme\";\r\nimport { Text } from \"./Text\";\r\nimport { Button } from \"./Button\";\r\nimport { ViewNB } from \"./View\";\r\nimport { Toast } from \"./Toast\";\r\nimport mapPropsToStyleNames from \"../Utils/mapPropsToStyleNames\";\r\n\r\n\r\nclass ToastContainer extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tmodalVisible: false,\r\n\t\t\tfadeAnim: new Animated.Value(0),\r\n\t\t};\r\n\t}\r\n\tstatic toastInstance;\r\n\tstatic show({ ...config }) {\r\n\t\tthis.toastInstance._root.showToast({ config });\r\n\t}\r\n\tgetToastStyle() {\r\n\t\treturn {\r\n\t\t\tposition: \"absolute\",\r\n\t\t\topacity: this.state.fadeAnim,\r\n\t\t\twidth: \"100%\",\r\n\t\t\televation: 9,\r\n\t\t\tpaddingHorizontal: Platform.OS === \"ios\" ? 20 : 0,\r\n\t\t\ttop: this.state.position === \"top\" ? this.getTop() : undefined,\r\n\t\t\tbottom: this.state.position === \"bottom\" ? this.getTop() : undefined,\r\n\t\t};\r\n\t}\r\n\tgetTop() {\r\n\t\tif (Platform.OS === \"ios\") {\r\n\t\t\treturn 30;\r\n\t\t} else {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t}\r\n\tshowToast({ config }) {\r\n\t\tthis.setState({\r\n\t\t\tmodalVisible: true,\r\n\t\t\ttext: config.text,\r\n\t\t\tbuttonText: config.buttonText,\r\n\t\t\ttype: config.type,\r\n\t\t\tposition: config.position ? config.position : \"bottom\",\r\n\t\t\tsupportedOrientations: config.supportedOrientations,\r\n\t\t\tstyle: config.style,\r\n\t\t\tbuttonTextStyle: config.buttonTextStyle,\r\n\t\t\tbuttonStyle: config.buttonStyle,\r\n\t\t\ttextStyle: config.textStyle,\r\n\t\t\tonClose: config.onClose\r\n\t\t});\r\n\t\tif (config.duration > 0) {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tAnimated.timing(this.state.fadeAnim, {\r\n\t\t\t\t\ttoValue: 0,\r\n\t\t\t\t\tduration: 200,\r\n\t\t\t\t}).start();\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tmodalVisible: false,\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 500);\r\n\t\t\t}, config.duration);\r\n\t\t}\r\n\t\tAnimated.timing(this.state.fadeAnim, {\r\n\t\t\ttoValue: 1,\r\n\t\t\tduration: 200,\r\n\t\t}).start();\r\n\t}\r\n\tcloseToast() {\r\n\t\tconst { onClose } = this.state;\r\n\r\n\t\tif(onClose && typeof onClose === \"function\") {\r\n\t\t\tonClose();\r\n\t\t}\r\n\r\n\t\tAnimated.timing(this.state.fadeAnim, {\r\n\t\t\ttoValue: 0,\r\n\t\t\tduration: 200,\r\n\t\t}).start();\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tmodalVisible: false,\r\n\t\t\t});\r\n\t\t}, 500);\r\n\t}\r\n\trender() {\r\n\t\tif (this.state.modalVisible) {\r\n\t\t\treturn (\r\n\t\t\t\t<Animated.View style={this.getToastStyle()}>\r\n\t\t\t\t\t<Toast\r\n\t\t\t\t\t\tstyle={this.state.style}\r\n\t\t\t\t\t\tdanger={this.state.type == \"danger\" ? true : false}\r\n\t\t\t\t\t\tsuccess={this.state.type == \"success\" ? true : false}\r\n\t\t\t\t\t\twarning={this.state.type == \"warning\" ? true : false}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Text style={this.state.textStyle}>\r\n\t\t\t\t\t\t\t{this.state.text}\r\n\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t{this.state.buttonText &&\r\n\t\t\t\t\t\t\t<Button style={this.state.buttonStyle} onPress={() => this.closeToast()}>\r\n\t\t\t\t\t\t\t\t<Text style={this.state.buttonTextStyle}>\r\n\t\t\t\t\t\t\t\t\t{this.state.buttonText}\r\n\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t</Button>}\r\n\t\t\t\t\t</Toast>\r\n\t\t\t\t</Animated.View>\r\n\t\t\t);\r\n\t\t} else return null;\r\n\t}\r\n}\r\n\r\nToastContainer.propTypes = {\r\n\t...ViewPropTypes,\r\n\tstyle: PropTypes.oneOfType([PropTypes.object, PropTypes.number, PropTypes.array]),\r\n};\r\n\r\nconst StyledToastContainer = connectStyle(\"NativeBase.ToastContainer\", {}, mapPropsToStyleNames)(ToastContainer);\r\n\r\nexport { StyledToastContainer as ToastContainer };\r\n\r\n"]}