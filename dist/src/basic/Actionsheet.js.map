{"version":3,"sources":["../../../src/basic/Actionsheet.js"],"names":["ActionSheetContainer","props","state","modalVisible","items","config","callback","Platform","OS","options","filtered","map","item","text","ActionSheetIOS","showActionSheetWithOptions","setState","listHeight","itemHeight","isNaN","length","title","message","destructiveButtonIndex","cancelButtonIndex","autoHide","duration","console","warn","backgroundColor","flex","justifyContent","minHeight","height","maxHeight","Dimensions","get","padding","elevation","color","marginHorizontal","marginTop","index","String","parseInt","borderColor","marginLeft","icon","iconColor","undefined","paddingLeft","actionsheetInstance","_root","showActionSheet","hideActionSheet","Component","propTypes","ViewPropTypes","style","PropTypes","oneOfType","object","number","array","StyledActionSheetContainer","mapPropsToStyleNames"],"mappings":"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","file":"Actionsheet.js","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  View,\n  Modal,\n  Platform,\n  ActionSheetIOS,\n  TouchableOpacity,\n  ViewPropTypes,\n  FlatList,\n  Dimensions\n} from \"react-native\";\nimport { connectStyle } from \"native-base-shoutem-theme\";\nimport { Text } from \"./Text\";\nimport { Button } from \"./Button\";\nimport { ViewNB } from \"./View\";\nimport { Icon } from \"./Icon\";\nimport { Left } from \"./Left\";\nimport { Right } from \"./Right\";\nimport { Body } from \"./Body\";\nimport { ListItem } from \"./ListItem\";\nimport mapPropsToStyleNames from \"../utils/mapPropsToStyleNames\";\n\nclass ActionSheetContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      modalVisible: false,\n      items: []\n    };\n  }\n  static actionsheetInstance;\n  static show(config, callback) {\n    this.actionsheetInstance._root.showActionSheet(config, callback);\n  }\n  static hide(){\n    this.actionsheetInstance._root.hideActionSheet();\n  }\n  showActionSheet(config, callback) {\n    if (Platform.OS === \"ios\") {\n      if (typeof config.options[0] == \"object\") {\n        let options = config.options;\n        let filtered = options.map(item => {\n          return item.text;\n        });\n        config.options = filtered;\n        ActionSheetIOS.showActionSheetWithOptions(config, callback);\n      } else {\n        ActionSheetIOS.showActionSheetWithOptions(config, callback);\n      }\n    } else {\n      this.setState({\n        items: config.options,\n        listHeight: config.itemHeight && !isNaN(config.itemHeight) ?  config.options.length * config.itemHeight : 'auto',\n        title: config.title,\n        message: config.message,\n        destructiveButtonIndex: config.destructiveButtonIndex,\n        cancelButtonIndex: config.cancelButtonIndex,\n        modalVisible: true,\n        callback: callback\n      });\n    }\n  }\n\n  hideActionSheet(){\n    this.setState({ modalVisible: false });\n  }\n\n  componentDidMount() {\n    if (!this.props.autoHide && this.props.duration) {\n      console.warn(`It's not recommended to set autoHide false with duration`);\n    }\n  }\n  render() {\n    return (\n      <Modal\n        animationType={\"fade\"}\n        transparent={true}\n        visible={this.state.modalVisible}\n        onRequestClose={() => {\n          this.state.callback(this.state.cancelButtonIndex);\n          this.setState({ modalVisible: false });\n        }}\n      >\n        <TouchableOpacity\n          activeOpacity={1}\n          onPress={() => {\n            this.state.callback(this.state.cancelButtonIndex);\n            this.setState({ modalVisible: false });\n          }}\n          style={{\n            backgroundColor: \"rgba(0,0,0,0.4)\",\n            flex: 1,\n            justifyContent: \"flex-end\"\n          }}\n        >\n          <TouchableOpacity\n            activeOpacity={1}\n            style={{\n              backgroundColor: \"#fff\",\n              minHeight: 56,\n              height: this.state.itemHeight && !isNaN(this.state.itemHeight) ?  this.state.length * this.state.itemHeight : 'auto',\n              maxHeight: Dimensions.get(\"window\").height / 2,\n              padding: 15,\n              elevation: 4\n            }}\n          >\n            {this.state.title ? (\n              <Text style={{ color: \"#757575\" }}>{this.state.title}</Text>\n            ) : null}\n            <FlatList\n              style={{\n                marginHorizontal: -15,\n                marginTop: this.state.title ? 15 : 0\n              }}\n              data={this.state.items}\n              keyExtractor={(item, index) => String(index)}\n              renderItem={({ index, item }) => {\n                return typeof this.state.items[0] === \"string\" ? (\n                  <ListItem\n                    onPress={() => {\n                      this.state.callback(parseInt(index));\n                      this.setState({ modalVisible: false });\n                    }}\n                    style={{ borderColor: \"transparent\", marginLeft: 14 }}\n                  >\n                    <Text>{item}</Text>\n                  </ListItem>\n                ) : (\n                  <ListItem\n                    onPress={() => {\n                      this.state.callback(parseInt(index));\n                      this.setState({ modalVisible: false });\n                    }}\n                    style={{\n                      borderColor: \"transparent\",\n                      marginLeft: 14,\n                      height: 50\n                    }}\n                    icon\n                  >\n                    <Left>\n                      <Icon\n                        name={item.icon}\n                        style={{\n                          color: item.iconColor ? item.iconColor : undefined\n                        }}\n                      />\n                    </Left>\n                    <Body\n                      style={{ borderColor: \"transparent\", paddingLeft: 7 }}\n                    >\n                      <Text>{item.text}</Text>\n                    </Body>\n                    <Right />\n                  </ListItem>\n                );\n              }}\n            />\n          </TouchableOpacity>\n        </TouchableOpacity>\n      </Modal>\n    );\n  }\n}\n\nActionSheetContainer.propTypes = {\n  ...ViewPropTypes,\n  style: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.number,\n    PropTypes.array\n  ])\n};\n\nconst StyledActionSheetContainer = connectStyle(\n  \"NativeBase.ActionSheetContainer\",\n  {},\n  mapPropsToStyleNames\n)(ActionSheetContainer);\n\nexport { StyledActionSheetContainer as ActionSheetContainer };\n"]}