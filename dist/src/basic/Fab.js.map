{"version":3,"sources":["../../../src/basic/Fab.js"],"names":["DIRECTION","DOWN","LEFT","RIGHT","UP","POSITION","BOTTOM_LEFT","BOTTOM_RIGHT","TOP_LEFT","TOP_RIGHT","AnimatedFab","Animated","createAnimatedComponent","Button","Fab","props","prepareButtonProps","inp","child","style","defaultProps","fabTopValue","pos","top","variables","fabDefaultPosition","bottom","undefined","left","right","containerHeight","Value","fabWidth","containerWidth","buttonScale","state","buttons","active","childrenArray","React","Children","toArray","children","icon","item","type","displayName","setState","length","activeTimer","setTimeout","clearTimeout","i","direction","fabOtherBtns","Platform","OS","PLATFORM","IOS","getInitialStyle","buttonStyle","StyleSheet","flatten","container","containerStyle","iconStyle","position","fab","height","width","borderRadius","fabBorderRadius","elevation","fabElevation","shadowColor","fabShadowColor","shadowOffset","fabShadowOffsetWidth","fabShadowOffsetHeight","shadowOpacity","fabShadowOpacity","justifyContent","alignItems","shadowRadius","fabShadowRadius","fabBottom","backgroundColor","fabBackgroundColor","fabContainerBottom","flexDirection","color","fabIconColor","fontSize","fabIconSize","lineHeight","fabButtonHeight","fabButtonLeft","fabButtonBorderRadius","transform","scale","marginBottom","fabButtonMarginBottom","incomingProps","onPress","spring","toValue","start","useNativeDriver","console","warn","upAnimate","leftAnimate","rightAnimate","downAnimate","_animate","newChildren","slice","map","push","getOtherButtonStyle","cloneElement","getContainerStyle","renderButtons","androidRipple","Version","fabOnPress","prepareFabProps","renderFab","TouchableNativeFeedback","Ripple","androidRippleColor","Component","StyledFab","mapPropsToStyleNames"],"mappings":"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","file":"Fab.js","sourcesContent":["import React, { Component } from 'react';\r\nimport {\r\n  Platform,\r\n  Animated,\r\n  TouchableOpacity,\r\n  TouchableNativeFeedback,\r\n  View,\r\n  StyleSheet\r\n} from 'react-native';\r\nimport { remove, merge, clone } from 'lodash';\r\nimport { connectStyle } from 'native-base-shoutem-theme';\r\n\r\nimport variables from '../theme/variables/platform';\r\nimport { PLATFORM } from '../theme/variables/commonColor';\r\nimport computeProps from '../utils/computeProps';\r\nimport mapPropsToStyleNames from '../utils/mapPropsToStyleNames';\r\n\r\nimport { Button } from './Button';\r\n\r\nconst DIRECTION = {\r\n  DOWN: 'down',\r\n  LEFT: 'left',\r\n  RIGHT: 'right',\r\n  UP: 'up'\r\n};\r\n\r\nconst POSITION = {\r\n  BOTTOM_LEFT: 'bottomLeft',\r\n  BOTTOM_RIGHT: 'bottomRight',\r\n  TOP_LEFT: 'topLeft',\r\n  TOP_RIGHT: 'topRight'\r\n};\r\n\r\nconst AnimatedFab = Animated.createAnimatedComponent(Button);\r\n\r\nclass Fab extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.containerHeight = new Animated.Value(variables.fabWidth);\r\n    this.containerWidth = new Animated.Value(0);\r\n    this.buttonScale = new Animated.Value(0);\r\n    this.state = {\r\n      buttons: undefined,\r\n      active: false\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const childrenArray = React.Children.toArray(this.props.children);\r\n    const icon = remove(childrenArray, item => {\r\n      if (item.type.displayName === 'Styled(Button)') {\r\n        return true;\r\n      }\r\n      return null;\r\n    });\r\n    // eslint-disable-next-line react/no-did-mount-set-state\r\n    this.setState({\r\n      buttons: icon.length\r\n    });\r\n    this.activeTimer = setTimeout(() => {\r\n      this.setState({\r\n        active: this.props.active\r\n      });\r\n    }, 0);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.activeTimer) {\r\n      clearTimeout(this.activeTimer);\r\n    }\r\n  }\r\n\r\n  getOtherButtonStyle(child, i) {\r\n    const { active, direction } = this.props;\r\n    const type = {\r\n      top: direction ? this.fabOtherBtns(direction, i).top : undefined,\r\n      left: direction ? this.fabOtherBtns(direction, i).left : 8,\r\n      right: direction ? this.fabOtherBtns(direction, i).right : 0,\r\n      bottom: direction\r\n        ? this.fabOtherBtns(direction, i).bottom\r\n        : active === false\r\n        ? Platform.OS === PLATFORM.IOS\r\n          ? 8\r\n          : 8\r\n        : i * 50 + 50\r\n    };\r\n\r\n    return merge(\r\n      this.getInitialStyle().buttonStyle,\r\n      StyleSheet.flatten(child.props.style),\r\n      type\r\n    );\r\n  }\r\n\r\n  getContainerStyle() {\r\n    return merge(this.getInitialStyle().container, this.props.containerStyle);\r\n  }\r\n\r\n  getInitialStyle(iconStyle) {\r\n    const { direction, position } = this.props;\r\n    return {\r\n      fab: {\r\n        height: variables.fabWidth,\r\n        width: variables.fabWidth,\r\n        borderRadius: variables.fabBorderRadius,\r\n        elevation: variables.fabElevation,\r\n        shadowColor: variables.fabShadowColor,\r\n        shadowOffset: {\r\n          width: variables.fabShadowOffsetWidth,\r\n          height: variables.fabShadowOffsetHeight\r\n        },\r\n        shadowOpacity: variables.fabShadowOpacity,\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        shadowRadius: variables.fabShadowRadius,\r\n        position: 'absolute',\r\n        bottom: variables.fabBottom,\r\n        backgroundColor: variables.fabBackgroundColor\r\n      },\r\n      container: {\r\n        position: 'absolute',\r\n        top: position ? this.fabTopValue(position).top : undefined,\r\n        bottom: position\r\n          ? this.fabTopValue(position).bottom\r\n          : variables.fabContainerBottom,\r\n        right: position\r\n          ? this.fabTopValue(position).right\r\n          : variables.fabContainerBottom,\r\n        left: position ? this.fabTopValue(position).left : undefined,\r\n        width: variables.fabWidth,\r\n        height: this.containerHeight,\r\n        flexDirection: direction\r\n          ? direction === DIRECTION.LEFT || direction === DIRECTION.RIGHT\r\n            ? 'row'\r\n            : 'column'\r\n          : 'column',\r\n        alignItems: 'center'\r\n      },\r\n      iconStyle: {\r\n        color: variables.fabIconColor,\r\n        fontSize: variables.fabIconSize,\r\n        lineHeight: Platform.OS === PLATFORM.IOS ? 27 : undefined,\r\n        ...iconStyle\r\n      },\r\n      buttonStyle: {\r\n        position: 'absolute',\r\n        height: variables.fabButtonHeight,\r\n        width: variables.fabButtonHeight,\r\n        left: variables.fabButtonLeft,\r\n        borderRadius: variables.fabButtonBorderRadius,\r\n        transform: this.state.active\r\n          ? [{ scale: new Animated.Value(1) }]\r\n          : [{ scale: this.buttonScale }],\r\n        marginBottom: variables.fabButtonMarginBottom,\r\n        backgroundColor: variables.fabBackgroundColor\r\n      }\r\n    };\r\n  }\r\n\r\n  prepareButtonProps = child => {\r\n    const inp = clone(child.props);\r\n    delete inp.style;\r\n\r\n    const defaultProps = {};\r\n\r\n    return computeProps(inp, defaultProps);\r\n  };\r\n\r\n  fabTopValue = pos => {\r\n    if (pos === POSITION.TOP_LEFT) {\r\n      return {\r\n        top: variables.fabDefaultPosition,\r\n        bottom: undefined,\r\n        left: variables.fabDefaultPosition,\r\n        right: undefined\r\n      };\r\n    } else if (pos === POSITION.BOTTOM_RIGHT) {\r\n      return {\r\n        top: undefined,\r\n        bottom: variables.fabDefaultPosition,\r\n        left: undefined,\r\n        right: variables.fabDefaultPosition\r\n      };\r\n    } else if (pos === POSITION.BOTTOM_LEFT) {\r\n      return {\r\n        top: undefined,\r\n        bottom: variables.fabDefaultPosition,\r\n        left: variables.fabDefaultPosition,\r\n        right: undefined\r\n      };\r\n    } else if (pos === POSITION.TOP_RIGHT) {\r\n      return {\r\n        top: variables.fabDefaultPosition,\r\n        bottom: undefined,\r\n        left: undefined,\r\n        right: variables.fabDefaultPosition\r\n      };\r\n    }\r\n    return null;\r\n  };\r\n\r\n  fabOtherBtns(direction, i) {\r\n    const { active } = this.props;\r\n    if (direction === DIRECTION.UP) {\r\n      return {\r\n        top: undefined,\r\n        bottom:\r\n          active === false\r\n            ? Platform.OS === PLATFORM.IOS\r\n              ? 50\r\n              : 5\r\n            : i * 50 + 65,\r\n        left: 8,\r\n        right: 0\r\n      };\r\n    } else if (direction === DIRECTION.LEFT) {\r\n      return {\r\n        top: 8,\r\n        bottom: 0,\r\n        left:\r\n          active === false\r\n            ? Platform.OS === PLATFORM.IOS\r\n              ? 8\r\n              : 8\r\n            : -(i * 50 + variables.fabWidth + 2),\r\n        right: 0\r\n      };\r\n    } else if (direction === DIRECTION.DOWN) {\r\n      return {\r\n        top:\r\n          active === false\r\n            ? Platform.OS === PLATFORM.IOS\r\n              ? 50\r\n              : 8\r\n            : i * 50 + 73,\r\n        bottom: 0,\r\n        left: 8,\r\n        right: 0\r\n      };\r\n    } else if (direction === DIRECTION.RIGHT) {\r\n      return {\r\n        top: 8,\r\n        bottom: 0,\r\n        left:\r\n          active === false\r\n            ? Platform.OS === PLATFORM.IOS\r\n              ? 50\r\n              : 8\r\n            : i * 50 + 73,\r\n        right: 0\r\n      };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  prepareFabProps() {\r\n    const defaultProps = {\r\n      style: this.getInitialStyle().fab\r\n    };\r\n    const incomingProps = clone(this.props);\r\n    delete incomingProps.onPress;\r\n\r\n    return computeProps(incomingProps, defaultProps);\r\n  }\r\n\r\n  upAnimate() {\r\n    if (!this.props.active) {\r\n      Animated.spring(this.containerHeight, {\r\n        toValue: this.state.buttons * 51.3 + variables.fabWidth\r\n      }).start();\r\n      Animated.spring(this.buttonScale, {\r\n        toValue: 1,\r\n        useNativeDriver: true\r\n      }).start();\r\n    } else {\r\n      this.setState({\r\n        active: false\r\n      });\r\n      Animated.spring(this.containerHeight, {\r\n        toValue: variables.fabWidth\r\n      }).start();\r\n      Animated.spring(this.buttonScale, {\r\n        toValue: 0,\r\n        useNativeDriver: true\r\n      }).start();\r\n    }\r\n  }\r\n\r\n  leftAnimate() {\r\n    if (!this.props.active) {\r\n      Animated.spring(this.containerWidth, {\r\n        toValue: this.state.buttons * 51.3 + variables.fabWidth\r\n      }).start();\r\n      Animated.spring(this.buttonScale, {\r\n        toValue: 1,\r\n        useNativeDriver: true\r\n      }).start();\r\n    } else {\r\n      this.setState({\r\n        active: false\r\n      });\r\n      Animated.spring(this.containerHeight, {\r\n        toValue: variables.fabWidth\r\n      }).start();\r\n      Animated.spring(this.buttonScale, {\r\n        toValue: 0,\r\n        useNativeDriver: true\r\n      }).start();\r\n    }\r\n  }\r\n\r\n  rightAnimate() {\r\n    if (!this.props.active) {\r\n      Animated.spring(this.containerWidth, {\r\n        toValue: this.state.buttons * 51.3 + variables.fabWidth\r\n      }).start();\r\n      Animated.spring(this.buttonScale, {\r\n        toValue: 1,\r\n        useNativeDriver: true\r\n      }).start();\r\n    } else {\r\n      this.setState({\r\n        active: false\r\n      });\r\n      Animated.spring(this.containerHeight, {\r\n        toValue: variables.fabWidth\r\n      }).start();\r\n      Animated.spring(this.buttonScale, {\r\n        toValue: 0,\r\n        useNativeDriver: true\r\n      }).start();\r\n    }\r\n  }\r\n\r\n  downAnimate() {\r\n    if (!this.props.active) {\r\n      Animated.spring(this.containerHeight, {\r\n        toValue: variables.fabWidth\r\n      }).start();\r\n      Animated.spring(this.buttonScale, {\r\n        toValue: 1,\r\n        useNativeDriver: true\r\n      }).start();\r\n    } else {\r\n      this.setState({\r\n        active: false\r\n      });\r\n      Animated.spring(this.containerHeight, {\r\n        toValue: variables.fabWidth\r\n      }).start();\r\n      Animated.spring(this.buttonScale, {\r\n        toValue: 0,\r\n        useNativeDriver: true\r\n      }).start();\r\n    }\r\n  }\r\n  _animate() {\r\n    const {\r\n      props: { direction, position }\r\n    } = this;\r\n\r\n    if (direction) {\r\n      if (direction === DIRECTION.UP) {\r\n        if (position === POSITION.TOP_LEFT || position === POSITION.TOP_RIGHT) {\r\n          console.warn(\r\n            'Passing direction = up with position = topLeft/topRight is not suggested.'\r\n          );\r\n        } else {\r\n          this.upAnimate();\r\n        }\r\n      } else if (direction === DIRECTION.LEFT) {\r\n        if (\r\n          position === POSITION.TOP_LEFT ||\r\n          position === POSITION.BOTTOM_LEFT\r\n        ) {\r\n          console.warn(\r\n            'Passing direction = left with position = topLeft/bottomLeft is not suggested.'\r\n          );\r\n        } else {\r\n          this.leftAnimate();\r\n        }\r\n      } else if (direction === DIRECTION.RIGHT) {\r\n        if (\r\n          position === POSITION.TOP_RIGHT ||\r\n          position === POSITION.BOTTOM_RIGHT\r\n        ) {\r\n          console.warn(\r\n            'Passing direction = right with position = topRight/bottomRight is not suggested.'\r\n          );\r\n        } else {\r\n          this.rightAnimate();\r\n        }\r\n      } else if (direction === DIRECTION.DOWN) {\r\n        if (\r\n          position === POSITION.BOTTOM_LEFT ||\r\n          position === POSITION.BOTTOM_RIGHT\r\n        ) {\r\n          console.warn(\r\n            'Passing direction = down with position = bottomLeft/bottomRight is not suggested.'\r\n          );\r\n        } else {\r\n          this.downAnimate();\r\n        }\r\n      }\r\n    } else {\r\n      this.upAnimate();\r\n    }\r\n  }\r\n\r\n  fabOnPress() {\r\n    if (this.props.onPress) {\r\n      this.props.onPress();\r\n      this._animate();\r\n      this.activeTimer = setTimeout(() => {\r\n        this.setState({\r\n          active: this.props.active\r\n        });\r\n      }, 100);\r\n    }\r\n  }\r\n\r\n  renderButtons() {\r\n    const childrenArray = React.Children.toArray(this.props.children);\r\n    const newChildren = [];\r\n    childrenArray.slice(1).map((child, i) =>\r\n      newChildren.push(\r\n        <AnimatedFab\r\n          style={this.getOtherButtonStyle(child, i)}\r\n          {...this.prepareButtonProps(child, i)}\r\n          fabButton\r\n          key={i}\r\n        >\r\n          {child.props.children}\r\n        </AnimatedFab>\r\n      )\r\n    );\r\n    return newChildren;\r\n  }\r\n\r\n  renderFab() {\r\n    const childrenArray = React.Children.toArray(this.props.children);\r\n    remove(childrenArray, item => {\r\n      if (item.type.displayName === 'Styled(Button)') {\r\n        return true;\r\n      }\r\n      return null;\r\n    });\r\n    return React.cloneElement(childrenArray[0], {\r\n      style: this.getInitialStyle(childrenArray[0].props.style).iconStyle\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { style } = this.props;\r\n    return (\r\n      <Animated.View style={this.getContainerStyle()}>\r\n        {this.renderButtons()}\r\n        {Platform.OS === PLATFORM.IOS ||\r\n        variables.androidRipple === false ||\r\n        Platform.Version <= 21 ? (\r\n          <TouchableOpacity\r\n            onPress={() => this.fabOnPress()}\r\n            {...this.prepareFabProps()}\r\n            activeOpacity={1}\r\n          >\r\n            {this.renderFab()}\r\n          </TouchableOpacity>\r\n        ) : (\r\n          <TouchableNativeFeedback\r\n            onPress={() => this.fabOnPress()}\r\n            // eslint-disable-next-line new-cap\r\n            background={TouchableNativeFeedback.Ripple(\r\n              variables.androidRippleColor,\r\n              false\r\n            )}\r\n            {...this.prepareFabProps()}\r\n          >\r\n            <View style={[this.getInitialStyle().fab, style]}>\r\n              {this.renderFab()}\r\n            </View>\r\n          </TouchableNativeFeedback>\r\n        )}\r\n      </Animated.View>\r\n    );\r\n  }\r\n}\r\nconst StyledFab = connectStyle('NativeBase.Fab', {}, mapPropsToStyleNames)(Fab);\r\nexport { StyledFab as Fab };\r\n"]}