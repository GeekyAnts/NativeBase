{"version":3,"sources":["../../../src/basic/Fab.js"],"names":["DIRECTION","DOWN","LEFT","RIGHT","UP","POSITION","BOTTOM_LEFT","BOTTOM_RIGHT","TOP_LEFT","TOP_RIGHT","AnimatedFab","Animated","createAnimatedComponent","Button","Fab","props","prepareButtonProps","inp","child","style","defaultProps","fabTopValue","pos","top","variables","fabDefaultPosition","bottom","undefined","left","right","containerHeight","Value","fabWidth","containerWidth","buttonScale","state","buttons","active","childrenArray","React","Children","toArray","children","icon","item","type","displayName","setState","length","activeTimer","setTimeout","clearTimeout","i","direction","fabOtherBtns","Platform","OS","PLATFORM","IOS","getInitialStyle","buttonStyle","StyleSheet","flatten","container","containerStyle","iconStyle","position","fab","height","width","borderRadius","fabBorderRadius","elevation","fabElevation","shadowColor","fabShadowColor","shadowOffset","fabShadowOffsetWidth","fabShadowOffsetHeight","shadowOpacity","fabShadowOpacity","justifyContent","alignItems","shadowRadius","fabShadowRadius","fabBottom","backgroundColor","fabBackgroundColor","fabContainerBottom","flexDirection","color","fabIconColor","fontSize","fabIconSize","lineHeight","fabButtonHeight","fabButtonLeft","fabButtonBorderRadius","transform","scale","marginBottom","fabButtonMarginBottom","incomingProps","onPress","spring","toValue","useNativeDriver","start","console","warn","upAnimate","leftAnimate","rightAnimate","downAnimate","_animate","newChildren","slice","map","push","getOtherButtonStyle","cloneElement","getContainerStyle","renderButtons","androidRipple","Version","fabOnPress","prepareFabProps","renderFab","TouchableNativeFeedback","Ripple","androidRippleColor","Component","StyledFab","mapPropsToStyleNames"],"mappings":"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","file":"Fab.js","sourcesContent":["import React, { Component } from 'react';\nimport {\n  Platform,\n  Animated,\n  TouchableOpacity,\n  TouchableNativeFeedback,\n  View,\n  StyleSheet\n} from 'react-native';\nimport { remove, merge, clone } from 'lodash';\nimport { connectStyle } from 'native-base-shoutem-theme';\n\nimport variables from '../theme/variables/platform';\nimport { PLATFORM } from '../theme/variables/commonColor';\nimport computeProps from '../utils/computeProps';\nimport mapPropsToStyleNames from '../utils/mapPropsToStyleNames';\n\nimport { Button } from './Button';\n\nconst DIRECTION = {\n  DOWN: 'down',\n  LEFT: 'left',\n  RIGHT: 'right',\n  UP: 'up'\n};\n\nconst POSITION = {\n  BOTTOM_LEFT: 'bottomLeft',\n  BOTTOM_RIGHT: 'bottomRight',\n  TOP_LEFT: 'topLeft',\n  TOP_RIGHT: 'topRight'\n};\n\nconst AnimatedFab = Animated.createAnimatedComponent(Button);\n\nclass Fab extends Component {\n  constructor(props) {\n    super(props);\n    this.containerHeight = new Animated.Value(variables.fabWidth);\n    this.containerWidth = new Animated.Value(0);\n    this.buttonScale = new Animated.Value(0);\n    this.state = {\n      buttons: undefined,\n      active: false\n    };\n  }\n\n  componentDidMount() {\n    const childrenArray = React.Children.toArray(this.props.children);\n    const icon = remove(childrenArray, item => {\n      if (item.type.displayName === 'Styled(Button)') {\n        return true;\n      }\n      return null;\n    });\n    // eslint-disable-next-line react/no-did-mount-set-state\n    this.setState({\n      buttons: icon.length\n    });\n    this.activeTimer = setTimeout(() => {\n      this.setState({\n        active: this.props.active\n      });\n    }, 0);\n  }\n\n  componentWillUnmount() {\n    if (this.activeTimer) {\n      clearTimeout(this.activeTimer);\n    }\n  }\n\n  getOtherButtonStyle(child, i) {\n    const { active, direction } = this.props;\n    const type = {\n      top: direction ? this.fabOtherBtns(direction, i).top : undefined,\n      left: direction ? this.fabOtherBtns(direction, i).left : 8,\n      right: direction ? this.fabOtherBtns(direction, i).right : 0,\n      bottom: direction\n        ? this.fabOtherBtns(direction, i).bottom\n        : active === false\n        ? Platform.OS === PLATFORM.IOS\n          ? 8\n          : 8\n        : i * 50 + 50\n    };\n\n    return merge(\n      this.getInitialStyle().buttonStyle,\n      StyleSheet.flatten(child.props.style),\n      type\n    );\n  }\n\n  getContainerStyle() {\n    return merge(this.getInitialStyle().container, this.props.containerStyle);\n  }\n\n  getInitialStyle(iconStyle) {\n    const { direction, position } = this.props;\n    return {\n      fab: {\n        height: variables.fabWidth,\n        width: variables.fabWidth,\n        borderRadius: variables.fabBorderRadius,\n        elevation: variables.fabElevation,\n        shadowColor: variables.fabShadowColor,\n        shadowOffset: {\n          width: variables.fabShadowOffsetWidth,\n          height: variables.fabShadowOffsetHeight\n        },\n        shadowOpacity: variables.fabShadowOpacity,\n        justifyContent: 'center',\n        alignItems: 'center',\n        shadowRadius: variables.fabShadowRadius,\n        position: 'absolute',\n        bottom: variables.fabBottom,\n        backgroundColor: variables.fabBackgroundColor\n      },\n      container: {\n        position: 'absolute',\n        top: position ? this.fabTopValue(position).top : undefined,\n        bottom: position\n          ? this.fabTopValue(position).bottom\n          : variables.fabContainerBottom,\n        right: position\n          ? this.fabTopValue(position).right\n          : variables.fabContainerBottom,\n        left: position ? this.fabTopValue(position).left : undefined,\n        width: variables.fabWidth,\n        height: this.containerHeight,\n        flexDirection: direction\n          ? direction === DIRECTION.LEFT || direction === DIRECTION.RIGHT\n            ? 'row'\n            : 'column'\n          : 'column',\n        alignItems: 'center'\n      },\n      iconStyle: {\n        color: variables.fabIconColor,\n        fontSize: variables.fabIconSize,\n        lineHeight: Platform.OS === PLATFORM.IOS ? 27 : undefined,\n        ...iconStyle\n      },\n      buttonStyle: {\n        position: 'absolute',\n        height: variables.fabButtonHeight,\n        width: variables.fabButtonHeight,\n        left: variables.fabButtonLeft,\n        borderRadius: variables.fabButtonBorderRadius,\n        transform: this.state.active\n          ? [{ scale: new Animated.Value(1) }]\n          : [{ scale: this.buttonScale }],\n        marginBottom: variables.fabButtonMarginBottom,\n        backgroundColor: variables.fabBackgroundColor\n      }\n    };\n  }\n\n  prepareButtonProps = child => {\n    const inp = clone(child.props);\n    delete inp.style;\n\n    const defaultProps = {};\n\n    return computeProps(inp, defaultProps);\n  };\n\n  fabTopValue = pos => {\n    if (pos === POSITION.TOP_LEFT) {\n      return {\n        top: variables.fabDefaultPosition,\n        bottom: undefined,\n        left: variables.fabDefaultPosition,\n        right: undefined\n      };\n    } else if (pos === POSITION.BOTTOM_RIGHT) {\n      return {\n        top: undefined,\n        bottom: variables.fabDefaultPosition,\n        left: undefined,\n        right: variables.fabDefaultPosition\n      };\n    } else if (pos === POSITION.BOTTOM_LEFT) {\n      return {\n        top: undefined,\n        bottom: variables.fabDefaultPosition,\n        left: variables.fabDefaultPosition,\n        right: undefined\n      };\n    } else if (pos === POSITION.TOP_RIGHT) {\n      return {\n        top: variables.fabDefaultPosition,\n        bottom: undefined,\n        left: undefined,\n        right: variables.fabDefaultPosition\n      };\n    }\n    return null;\n  };\n\n  fabOtherBtns(direction, i) {\n    const { active } = this.props;\n    if (direction === DIRECTION.UP) {\n      return {\n        top: undefined,\n        bottom:\n          active === false\n            ? Platform.OS === PLATFORM.IOS\n              ? 50\n              : 5\n            : i * 50 + 65,\n        left: 8,\n        right: 0\n      };\n    } else if (direction === DIRECTION.LEFT) {\n      return {\n        top: 8,\n        bottom: 0,\n        left:\n          active === false\n            ? Platform.OS === PLATFORM.IOS\n              ? 8\n              : 8\n            : -(i * 50 + variables.fabWidth + 2),\n        right: 0\n      };\n    } else if (direction === DIRECTION.DOWN) {\n      return {\n        top:\n          active === false\n            ? Platform.OS === PLATFORM.IOS\n              ? 50\n              : 8\n            : i * 50 + 73,\n        bottom: 0,\n        left: 8,\n        right: 0\n      };\n    } else if (direction === DIRECTION.RIGHT) {\n      return {\n        top: 8,\n        bottom: 0,\n        left:\n          active === false\n            ? Platform.OS === PLATFORM.IOS\n              ? 50\n              : 8\n            : i * 50 + 73,\n        right: 0\n      };\n    }\n    return null;\n  }\n\n  prepareFabProps() {\n    const defaultProps = {\n      style: this.getInitialStyle().fab\n    };\n    const incomingProps = clone(this.props);\n    delete incomingProps.onPress;\n\n    return computeProps(incomingProps, defaultProps);\n  }\n\n  upAnimate() {\n    if (!this.props.active) {\n      Animated.spring(this.containerHeight, {\n        toValue: this.state.buttons * 51.3 + variables.fabWidth,\n        useNativeDriver: false\n      }).start();\n      Animated.spring(this.buttonScale, {\n        toValue: 1,\n        useNativeDriver: true\n      }).start();\n    } else {\n      this.setState({\n        active: false\n      });\n      Animated.spring(this.containerHeight, {\n        toValue: variables.fabWidth,\n        useNativeDriver: false\n      }).start();\n      Animated.spring(this.buttonScale, {\n        toValue: 0,\n        useNativeDriver: true\n      }).start();\n    }\n  }\n\n  leftAnimate() {\n    if (!this.props.active) {\n      Animated.spring(this.containerWidth, {\n        toValue: this.state.buttons * 51.3 + variables.fabWidth,\n        useNativeDriver: false\n      }).start();\n      Animated.spring(this.buttonScale, {\n        toValue: 1,\n        useNativeDriver: true\n      }).start();\n    } else {\n      this.setState({\n        active: false\n      });\n      Animated.spring(this.containerHeight, {\n        toValue: variables.fabWidth,\n        useNativeDriver: false\n      }).start();\n      Animated.spring(this.buttonScale, {\n        toValue: 0,\n        useNativeDriver: true\n      }).start();\n    }\n  }\n\n  rightAnimate() {\n    if (!this.props.active) {\n      Animated.spring(this.containerWidth, {\n        toValue: this.state.buttons * 51.3 + variables.fabWidth,\n        useNativeDriver: false\n      }).start();\n      Animated.spring(this.buttonScale, {\n        toValue: 1,\n        useNativeDriver: true\n      }).start();\n    } else {\n      this.setState({\n        active: false\n      });\n      Animated.spring(this.containerHeight, {\n        toValue: variables.fabWidth,\n        useNativeDriver: false\n      }).start();\n      Animated.spring(this.buttonScale, {\n        toValue: 0,\n        useNativeDriver: true\n      }).start();\n    }\n  }\n\n  downAnimate() {\n    if (!this.props.active) {\n      Animated.spring(this.containerHeight, {\n        toValue: variables.fabWidth,\n        useNativeDriver: false\n      }).start();\n      Animated.spring(this.buttonScale, {\n        toValue: 1,\n        useNativeDriver: true\n      }).start();\n    } else {\n      this.setState({\n        active: false\n      });\n      Animated.spring(this.containerHeight, {\n        toValue: variables.fabWidth\n      }).start();\n      Animated.spring(this.buttonScale, {\n        toValue: 0,\n        useNativeDriver: true\n      }).start();\n    }\n  }\n  _animate() {\n    const {\n      props: { direction, position }\n    } = this;\n\n    if (direction) {\n      if (direction === DIRECTION.UP) {\n        if (position === POSITION.TOP_LEFT || position === POSITION.TOP_RIGHT) {\n          console.warn(\n            'Passing direction = up with position = topLeft/topRight is not suggested.'\n          );\n        } else {\n          this.upAnimate();\n        }\n      } else if (direction === DIRECTION.LEFT) {\n        if (\n          position === POSITION.TOP_LEFT ||\n          position === POSITION.BOTTOM_LEFT\n        ) {\n          console.warn(\n            'Passing direction = left with position = topLeft/bottomLeft is not suggested.'\n          );\n        } else {\n          this.leftAnimate();\n        }\n      } else if (direction === DIRECTION.RIGHT) {\n        if (\n          position === POSITION.TOP_RIGHT ||\n          position === POSITION.BOTTOM_RIGHT\n        ) {\n          console.warn(\n            'Passing direction = right with position = topRight/bottomRight is not suggested.'\n          );\n        } else {\n          this.rightAnimate();\n        }\n      } else if (direction === DIRECTION.DOWN) {\n        if (\n          position === POSITION.BOTTOM_LEFT ||\n          position === POSITION.BOTTOM_RIGHT\n        ) {\n          console.warn(\n            'Passing direction = down with position = bottomLeft/bottomRight is not suggested.'\n          );\n        } else {\n          this.downAnimate();\n        }\n      }\n    } else {\n      this.upAnimate();\n    }\n  }\n\n  fabOnPress() {\n    if (this.props.onPress) {\n      this.props.onPress();\n      this._animate();\n      this.activeTimer = setTimeout(() => {\n        this.setState({\n          active: this.props.active\n        });\n      }, 100);\n    }\n  }\n\n  renderButtons() {\n    const childrenArray = React.Children.toArray(this.props.children);\n    const newChildren = [];\n    childrenArray.slice(1).map((child, i) =>\n      newChildren.push(\n        <AnimatedFab\n          style={this.getOtherButtonStyle(child, i)}\n          {...this.prepareButtonProps(child, i)}\n          fabButton\n          key={i}\n        >\n          {child.props.children}\n        </AnimatedFab>\n      )\n    );\n    return newChildren;\n  }\n\n  renderFab() {\n    const childrenArray = React.Children.toArray(this.props.children);\n    remove(childrenArray, item => {\n      if (item.type.displayName === 'Styled(Button)') {\n        return true;\n      }\n      return null;\n    });\n    return React.cloneElement(childrenArray[0], {\n      style: this.getInitialStyle(childrenArray[0].props.style).iconStyle\n    });\n  }\n\n  render() {\n    const { style } = this.props;\n    return (\n      <Animated.View style={this.getContainerStyle()}>\n        {this.renderButtons()}\n        {Platform.OS === PLATFORM.IOS ||\n        variables.androidRipple === false ||\n        Platform.Version <= 21 ? (\n          <TouchableOpacity\n            onPress={() => this.fabOnPress()}\n            {...this.prepareFabProps()}\n            activeOpacity={1}\n          >\n            {this.renderFab()}\n          </TouchableOpacity>\n        ) : (\n          <TouchableNativeFeedback\n            onPress={() => this.fabOnPress()}\n            // eslint-disable-next-line new-cap\n            background={TouchableNativeFeedback.Ripple(\n              variables.androidRippleColor,\n              false\n            )}\n            {...this.prepareFabProps()}\n          >\n            <View style={[this.getInitialStyle().fab, style]}>\n              {this.renderFab()}\n            </View>\n          </TouchableNativeFeedback>\n        )}\n      </Animated.View>\n    );\n  }\n}\nconst StyledFab = connectStyle('NativeBase.Fab', {}, mapPropsToStyleNames)(Fab);\nexport { StyledFab as Fab };\n"]}