{"version":3,"sources":["../../../src/basic/Gravatar.js"],"names":["GRAVATAR_URI","Gravatar","gravatar","borderRadius","props","size","width","height","resizeMode","contain","undefined","gravatarStyle","circular","square","defaultProps","style","_","merge","getInitialStyle","prepareRootProps","uri","email","_root","c","NativeBaseComponent","propTypes","Image","PropTypes","string","isRequired","oneOfType","object","number","array","bool","StyledGravatar","mapPropsToStyleNames"],"mappings":"21BAAA,4B,2CACA,qC,mDACA,yCACA,iEACA,8B,6CACA,sC,mDAEA,mE,yEACA,mD,yDAEA,gE,y8BAEA,GAAMA,cAAe,kCAArB,C,GAEMC,S,+TACc,CAChB,MAAO,CACLC,SAAU,CACRC,aAAc,KAAKC,KAAL,CAAWC,IAAX,CAAkB,KAAKD,KAAL,CAAWC,IAAX,CAAkB,CAApC,CAAwC,EAD9C,CAERC,MAAO,KAAKF,KAAL,CAAWC,IAAX,CAAkB,KAAKD,KAAL,CAAWC,IAA7B,CAAoC,EAFnC,CAGRE,OAAQ,KAAKH,KAAL,CAAWC,IAAX,CAAkB,KAAKD,KAAL,CAAWC,IAA7B,CAAoC,EAHpC,CAIRG,WAAY,KAAKJ,KAAL,CAAWK,OAAX,CAAqB,SAArB,CAAiCC,SAJrC,CADL,CAAP,CAQD,C,2DAEkB,CACjB,GAAMC,eAAgB,EAAtB,CACA,GAAI,KAAKP,KAAL,CAAWQ,QAAf,CAAyB,CACvBD,cAAcL,KAAd,CAAsB,KAAKF,KAAL,CAAWC,IAAjC,CACAM,cAAcJ,MAAd,CAAuB,KAAKH,KAAL,CAAWC,IAAlC,CACAM,cAAcR,YAAd,CAA6B,KAAKC,KAAL,CAAWC,IAAX,CAAkB,CAA/C,CACD,CAJD,IAIO,IAAI,KAAKD,KAAL,CAAWS,MAAf,CAAuB,CAC5BF,cAAcL,KAAd,CAAsB,KAAKF,KAAL,CAAWC,IAAjC,CACAM,cAAcJ,MAAd,CAAuB,KAAKH,KAAL,CAAWC,IAAlC,CACAM,cAAcR,YAAd,CAA6B,CAA7B,CACD,CAED,GAAMW,cAAe,CACnBC,MAAOC,iBAAEC,KAAF,CAAQ,KAAKC,eAAL,GAAuBhB,QAA/B,CAAyCS,aAAzC,CADY,CAArB,CAIA,MAAO,2BAAa,KAAKP,KAAlB,CAAyBU,YAAzB,CAAP,CACD,C,uCAEQ,iBACP,GAAMV,OAAQ,KAAKe,gBAAL,EAAd,CAEA,GAAMC,KAASpB,aAAe,wBAAI,KAAKI,KAAL,CAAWiB,KAAf,CAAxB,OACJjB,MAAMW,KAAN,CAAYR,MADd,CAGA,MAAO,+BAAC,kBAAD,WAAO,IAAK,sBAAM,QAAKe,KAAL,CAAaC,CAAnB,EAAZ,EAAuCnB,KAAvC,EAA8C,OAAQ,CAAEgB,OAAF,CAAtD,kDAAP,CACD,C,sBAtCoBI,6B,EAyCvBvB,SAASwB,SAAT,aACKC,mBAAMD,SADX,EAEEJ,MAAOM,oBAAUC,MAAV,CAAiBC,UAF1B,CAGEd,MAAOY,oBAAUG,SAAV,CAAoB,CACzBH,oBAAUI,MADe,CAEzBJ,oBAAUK,MAFe,CAGzBL,oBAAUM,KAHe,CAApB,CAHT,CAQE5B,KAAMsB,oBAAUK,MARlB,CASEpB,SAAUe,oBAAUO,IATtB,CAUErB,OAAQc,oBAAUO,IAVpB,GAaA,GAAMC,gBAAiB,yCACrB,qBADqB,CAErB,EAFqB,CAGrBC,8BAHqB,EAIrBnC,QAJqB,CAAvB,C,QAK2BA,Q,CAAlBkC,c","file":"Gravatar.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Image } from 'react-native';\nimport { connectStyle } from 'native-base-shoutem-theme';\nimport _ from 'lodash';\nimport md5 from 'blueimp-md5';\n\nimport mapPropsToStyleNames from '../utils/mapPropsToStyleNames';\nimport computeProps from '../utils/computeProps';\n\nimport NativeBaseComponent from './Base/NativeBaseComponent';\n\nconst GRAVATAR_URI = 'https://www.gravatar.com/avatar/';\n\nclass Gravatar extends NativeBaseComponent {\n  getInitialStyle() {\n    return {\n      gravatar: {\n        borderRadius: this.props.size ? this.props.size / 2 : 15,\n        width: this.props.size ? this.props.size : 30,\n        height: this.props.size ? this.props.size : 30,\n        resizeMode: this.props.contain ? 'contain' : undefined\n      }\n    };\n  }\n\n  prepareRootProps() {\n    const gravatarStyle = {};\n    if (this.props.circular) {\n      gravatarStyle.width = this.props.size;\n      gravatarStyle.height = this.props.size;\n      gravatarStyle.borderRadius = this.props.size / 2;\n    } else if (this.props.square) {\n      gravatarStyle.width = this.props.size;\n      gravatarStyle.height = this.props.size;\n      gravatarStyle.borderRadius = 0;\n    }\n\n    const defaultProps = {\n      style: _.merge(this.getInitialStyle().gravatar, gravatarStyle)\n    };\n\n    return computeProps(this.props, defaultProps);\n  }\n\n  render() {\n    const props = this.prepareRootProps();\n\n    const uri = `${GRAVATAR_URI + md5(this.props.email)}?s=${\n      props.style.height\n    }`;\n    return <Image ref={c => (this._root = c)} {...props} source={{ uri }} />;\n  }\n}\n\nGravatar.propTypes = {\n  ...Image.propTypes,\n  email: PropTypes.string.isRequired,\n  style: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.number,\n    PropTypes.array\n  ]),\n  size: PropTypes.number,\n  circular: PropTypes.bool,\n  square: PropTypes.bool\n};\n\nconst StyledGravatar = connectStyle(\n  'NativeBase.Gravatar',\n  {},\n  mapPropsToStyleNames\n)(Gravatar);\nexport { StyledGravatar as Gravatar };\n"]}