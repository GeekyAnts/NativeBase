{"version":3,"sources":["../../../src/basic/Gravatar.js"],"names":["GRAVATAR_URI","Gravatar","gravatar","borderRadius","props","size","width","height","resizeMode","contain","undefined","gravatarStyle","circular","square","defaultProps","style","_","merge","getInitialStyle","prepareRootProps","uri","email","_root","c","NativeBaseComponent","propTypes","Image","PropTypes","string","isRequired","oneOfType","object","number","array","bool","StyledGravatar","mapPropsToStyleNames"],"mappings":"61BAAA,4B;AACA;AACA;AACA,8B;AACA,sC;AACA,mE;AACA,gE;AACA,mD;;AAEA,GAAMA,cAAe,kCAArB,C;;AAEMC,Q;AACc;AAChB,MAAO;AACLC,SAAU;AACRC,aAAc,KAAKC,KAAL,CAAWC,IAAX,CAAkB,KAAKD,KAAL,CAAWC,IAAX,CAAkB,CAApC,CAAwC,EAD9C;AAERC,MAAO,KAAKF,KAAL,CAAWC,IAAX,CAAkB,KAAKD,KAAL,CAAWC,IAA7B,CAAoC,EAFnC;AAGRE,OAAQ,KAAKH,KAAL,CAAWC,IAAX,CAAkB,KAAKD,KAAL,CAAWC,IAA7B,CAAoC,EAHpC;AAIRG,WAAY,KAAKJ,KAAL,CAAWK,OAAX,CAAqB,SAArB,CAAiCC,SAJrC,CADL,CAAP;;;AAQD,C;;AAEkB;AACjB,GAAMC,eAAgB,EAAtB;AACA,GAAI,KAAKP,KAAL,CAAWQ,QAAf,CAAyB;AACvBD,cAAcL,KAAd,CAAsB,KAAKF,KAAL,CAAWC,IAAjC;AACAM,cAAcJ,MAAd,CAAuB,KAAKH,KAAL,CAAWC,IAAlC;AACAM,cAAcR,YAAd,CAA6B,KAAKC,KAAL,CAAWC,IAAX,CAAkB,CAA/C;AACD,CAJD,IAIO,IAAI,KAAKD,KAAL,CAAWS,MAAf,CAAuB;AAC5BF,cAAcL,KAAd,CAAsB,KAAKF,KAAL,CAAWC,IAAjC;AACAM,cAAcJ,MAAd,CAAuB,KAAKH,KAAL,CAAWC,IAAlC;AACAM,cAAcR,YAAd,CAA6B,CAA7B;AACD;;AAED,GAAMW,cAAe;AACnBC,MAAOC,iBAAEC,KAAF,CAAQ,KAAKC,eAAL,GAAuBhB,QAA/B,CAAyCS,aAAzC,CADY,CAArB;;;AAIA,MAAO,2BAAa,KAAKP,KAAlB,CAAyBU,YAAzB,CAAP;AACD,C;;AAEQ;AACP,GAAMV,OAAQ,KAAKe,gBAAL,EAAd;;AAEA,GAAMC,KAASpB,aAAe,wBAAI,KAAKI,KAAL,CAAWiB,KAAf,CAAxB,OAAmDjB,MAAMW,KAAN;AACtDR,MADH;AAEA,MAAO,+BAAC,kBAAD,WAAO,IAAK,sBAAM,QAAKe,KAAL,CAAaC,CAAnB,EAAZ,EAAuCnB,KAAvC,EAA8C,OAAQ,CAAEgB,OAAF,CAAtD,kDAAP;AACD,C,sBArCoBI,6B;;;AAwCvBvB,SAASwB,SAAT;AACKC,mBAAMD,SADX;AAEEJ,MAAOM,UAAUC,MAAV,CAAiBC,UAF1B;AAGEd,MAAOY,UAAUG,SAAV,CAAoB;AACzBH,UAAUI,MADe;AAEzBJ,UAAUK,MAFe;AAGzBL,UAAUM,KAHe,CAApB,CAHT;;AAQE5B,KAAMsB,UAAUK,MARlB;AASEpB,SAAUe,UAAUO,IATtB;AAUErB,OAAQc,UAAUO,IAVpB;;;AAaA,GAAMC,gBAAiB;AACrB,qBADqB;AAErB,EAFqB;AAGrBC,8BAHqB;AAIrBnC,QAJqB,CAAvB,C;AAK2BA,Q,CAAlBkC,c","file":"Gravatar.js","sourcesContent":["import React from \"react\";\r\nimport { Image } from \"react-native\";\r\nimport { connectStyle } from \"native-base-shoutem-theme\";\r\nimport _ from \"lodash\";\r\nimport md5 from \"blueimp-md5\";\r\nimport mapPropsToStyleNames from \"../utils/mapPropsToStyleNames\";\r\nimport NativeBaseComponent from \"./Base/NativeBaseComponent\";\r\nimport computeProps from \"../utils/computeProps\";\r\n\r\nconst GRAVATAR_URI = \"https://www.gravatar.com/avatar/\";\r\n\r\nclass Gravatar extends NativeBaseComponent {\r\n  getInitialStyle() {\r\n    return {\r\n      gravatar: {\r\n        borderRadius: this.props.size ? this.props.size / 2 : 15,\r\n        width: this.props.size ? this.props.size : 30,\r\n        height: this.props.size ? this.props.size : 30,\r\n        resizeMode: this.props.contain ? \"contain\" : undefined\r\n      }\r\n    };\r\n  }\r\n\r\n  prepareRootProps() {\r\n    const gravatarStyle = {};\r\n    if (this.props.circular) {\r\n      gravatarStyle.width = this.props.size;\r\n      gravatarStyle.height = this.props.size;\r\n      gravatarStyle.borderRadius = this.props.size / 2;\r\n    } else if (this.props.square) {\r\n      gravatarStyle.width = this.props.size;\r\n      gravatarStyle.height = this.props.size;\r\n      gravatarStyle.borderRadius = 0;\r\n    }\r\n\r\n    const defaultProps = {\r\n      style: _.merge(this.getInitialStyle().gravatar, gravatarStyle)\r\n    };\r\n\r\n    return computeProps(this.props, defaultProps);\r\n  }\r\n\r\n  render() {\r\n    const props = this.prepareRootProps();\r\n\r\n    const uri = `${GRAVATAR_URI + md5(this.props.email)}?s=${props.style\r\n      .height}`;\r\n    return <Image ref={c => (this._root = c)} {...props} source={{ uri }} />;\r\n  }\r\n}\r\n\r\nGravatar.propTypes = {\r\n  ...Image.propTypes,\r\n  email: PropTypes.string.isRequired,\r\n  style: PropTypes.oneOfType([\r\n    PropTypes.object,\r\n    PropTypes.number,\r\n    PropTypes.array\r\n  ]),\r\n  size: PropTypes.number,\r\n  circular: PropTypes.bool,\r\n  square: PropTypes.bool\r\n};\r\n\r\nconst StyledGravatar = connectStyle(\r\n  \"NativeBase.Gravatar\",\r\n  {},\r\n  mapPropsToStyleNames\r\n)(Gravatar);\r\nexport { StyledGravatar as Gravatar };\r\n"]}