{"version":3,"sources":["../../../src/basic/Button.js"],"names":["Button","borderedBtn","borderWidth","props","bordered","variable","buttonDefaultBorderWidth","undefined","borderRadius","rounded","borderRadiusLarge","buttonDefaultBorderRadius","defaultProps","style","getInitialStyle","Array","isArray","flattenedStyle","reduce","accumulator","currentValue","concat","variables","context","theme","children","Platform","OS","PLATFORM","IOS","React","Children","map","child","type","Text","cloneElement","uppercase","buttonUppercaseAndroidText","WEB","androidRipple","Version","prepareRootProps","_root","c","activeOpacity","buttonDefaultActiveOpacity","buttonStyle","buttonFlex","full","block","buttonDefaultFlex","flex","maxHeight","height","paddingTop","paddingBottom","TouchableNativeFeedback","Ripple","androidRippleColor","styles","childContainer","flexGrow","onPress","transparent","Component","contextTypes","PropTypes","object","propTypes","TouchableOpacity","oneOfType","number","array","bool","primary","success","danger","warning","info","disabled","large","small","active","StyleSheet","create","flexShrink","flexDirection","justifyContent","alignItems","StyledButton","mapPropsToStyleNames"],"mappings":"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","file":"Button.js","sourcesContent":["/* eslint-disable new-cap */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  TouchableOpacity,\r\n  Platform,\r\n  View,\r\n  TouchableNativeFeedback,\r\n  StyleSheet\r\n} from 'react-native';\r\nimport { connectStyle } from 'native-base-shoutem-theme';\r\n\r\nimport variable from '../theme/variables/platform';\r\nimport { PLATFORM } from '../theme/variables/commonColor';\r\nimport computeProps from '../utils/computeProps';\r\nimport mapPropsToStyleNames from '../utils/mapPropsToStyleNames';\r\n\r\nimport { Text } from './Text';\r\n\r\nclass Button extends Component {\r\n  static contextTypes = {\r\n    theme: PropTypes.object\r\n  };\r\n\r\n  getInitialStyle() {\r\n    return {\r\n      borderedBtn: {\r\n        borderWidth: this.props.bordered\r\n          ? variable.buttonDefaultBorderWidth\r\n          : undefined,\r\n        borderRadius:\r\n          this.props.rounded && this.props.bordered\r\n            ? variable.borderRadiusLarge\r\n            : variable.buttonDefaultBorderRadius\r\n      }\r\n    };\r\n  }\r\n\r\n  prepareRootProps() {\r\n    const defaultProps = {\r\n      style: this.getInitialStyle().borderedBtn\r\n    };\r\n\r\n    if (Array.isArray(this.props.style)) {\r\n      const flattenedStyle = this.props.style.reduce(\r\n        (accumulator, currentValue) => accumulator.concat(currentValue),\r\n        []\r\n      );\r\n      return computeProps(\r\n        { ...this.props, style: flattenedStyle },\r\n        defaultProps\r\n      );\r\n    }\r\n\r\n    return computeProps(this.props, defaultProps);\r\n  }\r\n  render() {\r\n    const variables = this.context.theme\r\n      ? this.context.theme['@@shoutem.theme/themeStyle'].variables\r\n      : variable;\r\n    const children =\r\n      Platform.OS === PLATFORM.IOS\r\n        ? this.props.children\r\n        : React.Children.map(this.props.children, child =>\r\n            child && child.type === Text\r\n              ? React.cloneElement(child, {\r\n                uppercase: variables.buttonUppercaseAndroidText,\r\n                ...child.props\r\n              })\r\n              : child\r\n          );\r\n    if (\r\n      Platform.OS === PLATFORM.IOS ||\r\n      Platform.OS === PLATFORM.WEB ||\r\n      variables.androidRipple === false ||\r\n      Platform.Version < 21\r\n    ) {\r\n      return (\r\n        <TouchableOpacity\r\n          {...this.prepareRootProps()}\r\n          ref={c => (this._root = c)}\r\n          activeOpacity={\r\n            this.props.activeOpacity > 0\r\n              ? this.props.activeOpacity\r\n              : variable.buttonDefaultActiveOpacity\r\n          }\r\n        >\r\n          {children}\r\n        </TouchableOpacity>\r\n      );\r\n    }\r\n    if (this.props.rounded) {\r\n      const buttonStyle = { ...this.prepareRootProps().style };\r\n      const buttonFlex =\r\n        this.props.full || this.props.block\r\n          ? variable.buttonDefaultFlex\r\n          : buttonStyle.flex;\r\n      return (\r\n        <View\r\n          style={[\r\n            { maxHeight: buttonStyle.height },\r\n            buttonStyle,\r\n            { paddingTop: undefined, paddingBottom: undefined }\r\n          ]}\r\n        >\r\n          <TouchableNativeFeedback\r\n            ref={c => (this._root = c)}\r\n            background={TouchableNativeFeedback.Ripple(\r\n              this.props.androidRippleColor || variables.androidRippleColor,\r\n              true\r\n            )}\r\n            {...this.prepareRootProps()}\r\n          >\r\n            <View\r\n              style={[\r\n                // eslint-disable-next-line no-use-before-define\r\n                styles.childContainer,\r\n                {\r\n                  paddingTop: buttonStyle.paddingTop,\r\n                  paddingBottom: buttonStyle.paddingBottom,\r\n                  height: buttonStyle.height,\r\n                  flexGrow: buttonFlex\r\n                }\r\n              ]}\r\n            >\r\n              {children}\r\n            </View>\r\n          </TouchableNativeFeedback>\r\n        </View>\r\n      );\r\n    }\r\n    return (\r\n      <TouchableNativeFeedback\r\n        ref={c => (this._root = c)}\r\n        onPress={this.props.onPress}\r\n        background={\r\n          this.props.transparent\r\n            ? TouchableNativeFeedback.Ripple('transparent')\r\n            : TouchableNativeFeedback.Ripple(\r\n                variables.androidRippleColor,\r\n                false\r\n              )\r\n        }\r\n        {...this.prepareRootProps()}\r\n      >\r\n        <View {...this.prepareRootProps()}>{children}</View>\r\n      </TouchableNativeFeedback>\r\n    );\r\n  }\r\n}\r\n\r\nButton.propTypes = {\r\n  ...TouchableOpacity.propTypes,\r\n  style: PropTypes.oneOfType([\r\n    PropTypes.object,\r\n    PropTypes.number,\r\n    PropTypes.array\r\n  ]),\r\n  block: PropTypes.bool,\r\n  primary: PropTypes.bool,\r\n  transparent: PropTypes.bool,\r\n  success: PropTypes.bool,\r\n  danger: PropTypes.bool,\r\n  warning: PropTypes.bool,\r\n  info: PropTypes.bool,\r\n  bordered: PropTypes.bool,\r\n  disabled: PropTypes.bool,\r\n  rounded: PropTypes.bool,\r\n  large: PropTypes.bool,\r\n  small: PropTypes.bool,\r\n  active: PropTypes.bool\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  childContainer: {\r\n    flexShrink: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center'\r\n  }\r\n});\r\n\r\nconst StyledButton = connectStyle(\r\n  'NativeBase.Button',\r\n  {},\r\n  mapPropsToStyleNames\r\n)(Button);\r\nexport { StyledButton as Button };\r\n"]}