{"version":3,"sources":["../../../src/basic/Accordion.js"],"names":["DefaultHeader","variables","context","theme","variable","styles","defaultHeader","props","headerStyle","backgroundColor","title","fontSize","expanded","expandedIcon","expandedIconStyle","color","icon","iconStyle","React","Component","DefaultContent","padding","contentStyle","content","AccordionSubItem","state","fadeAnim","Animated","Value","timing","toValue","duration","useNativeDriver","start","style","opacity","children","AccordionItem","setSelected","index","renderHeader","item","renderContent","Accordion","selected","undefined","setState","dataArray","borderColor","accordionBorderColor","borderWidth","String","bind","StyleSheet","create","flexDirection","justifyContent","alignItems"],"mappings":"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","file":"Accordion.js","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  Animated,\n  TouchableWithoutFeedback,\n  FlatList,\n  StyleSheet,\n  View\n} from \"react-native\";\nimport { Text } from \"./Text\";\nimport { Icon } from \"./Icon\";\nimport variable from \"../theme/variables/platform\";\n\nclass DefaultHeader extends React.Component {\n  render() {\n    const variables = this.context.theme\n      ? this.context.theme[\"@@shoutem.theme/themeStyle\"].variables\n      : variable;\n    return (\n      <View\n        style={[\n          styles.defaultHeader,\n          this.props.headerStyle\n            ? this.props.headerStyle\n            : { backgroundColor: variables.headerStyle }\n        ]}\n      >\n        <Text> {this.props.title}</Text>\n        <Icon\n          style={[\n            { fontSize: 18 },\n            this.props.expanded\n              ? this.props.expandedIcon && this.props.expandedIconStyle\n                ? this.props.expandedIconStyle\n                : { color: variables.expandedIconStyle }\n              : this.props.icon && this.props.iconStyle\n                ? this.props.iconStyle\n                : { color: variables.iconStyle }\n          ]}\n          name={\n            this.props.expanded\n              ? this.props.expandedIcon\n                ? this.props.expandedIcon\n                : \"ios-arrow-up\"\n              : this.props.icon\n                ? this.props.icon\n                : \"ios-arrow-down\"\n          }\n        />\n      </View>\n    );\n  }\n}\n\nclass DefaultContent extends React.Component {\n  render() {\n    const variables = this.context.theme\n      ? this.context.theme[\"@@shoutem.theme/themeStyle\"].variables\n      : variable;\n    return (\n      <Text\n        style={[\n          { padding: 10 },\n          this.props.contentStyle\n            ? this.props.contentStyle\n            : { backgroundColor: variables.contentStyle }\n        ]}\n      >\n        {this.props.content}\n      </Text>\n    );\n  }\n}\n\nclass AccordionSubItem extends React.Component {\n  state = {\n    fadeAnim: new Animated.Value(0.3)\n  };\n  componentDidMount() {\n    Animated.timing(this.state.fadeAnim, {\n      toValue: 1,\n      duration: 500,\n      useNativeDriver: true\n    }).start();\n  }\n  render() {\n    let { fadeAnim } = this.state;\n    return (\n      <Animated.View style={{ ...this.props.style, opacity: fadeAnim }}>\n        {this.props.children}\n      </Animated.View>\n    );\n  }\n}\n\nclass AccordionItem extends React.Component {\n  render() {\n    return (\n      <View>\n        <TouchableWithoutFeedback\n          onPress={() => this.props.setSelected(this.props.index)}\n        >\n          <View>\n            {this.props.renderHeader ? (\n              this.props.renderHeader(this.props.item, this.props.expanded)\n            ) : (\n                <DefaultHeader\n                  title={this.props.item.title}\n                  expanded={this.props.expanded}\n                  headerStyle={this.props.headerStyle}\n                  icon={this.props.icon}\n                  iconStyle={this.props.iconStyle}\n                  expandedIcon={this.props.expandedIcon}\n                  expandedIconStyle={this.props.expandedIconStyle}\n                />\n              )}\n          </View>\n        </TouchableWithoutFeedback>\n        {this.props.expanded ? (\n          <AccordionSubItem>\n            {this.props.renderContent ? (\n              this.props.renderContent(this.props.item)\n            ) : (\n                <DefaultContent\n                  content={this.props.item.content}\n                  contentStyle={this.props.contentStyle}\n                />\n              )}\n          </AccordionSubItem>\n        ) : null}\n      </View>\n    );\n  }\n}\n\nexport class Accordion extends React.Component {\n  state = { selected: undefined };\n  setSelected(index) {\n    if (this.state.selected === index) {\n      this.setState({ selected: undefined });\n    } else {\n      this.setState({ selected: index });\n    }\n  }\n\n  componentDidMount() {\n    this.setState({ selected: this.props.expanded });\n  }\n\n  render() {\n    const variables = this.context.theme\n      ? this.context.theme[\"@@shoutem.theme/themeStyle\"].variables\n      : variable;\n    return (\n      <FlatList\n        data={this.props.dataArray}\n        extraData={this.state}\n        style={[\n          {\n            borderColor: variables.accordionBorderColor,\n            borderWidth: variables.borderWidth\n          },\n          this.props.style\n        ]}\n        keyExtractor={(item, index) => String(index)}\n        renderItem={({ item, index }) => (\n          <AccordionItem\n            key={String(index)}\n            item={item}\n            expanded={this.state.selected === index}\n            index={index}\n            setSelected={this.setSelected.bind(this)}\n            headerStyle={this.props.headerStyle}\n            contentStyle={this.props.contentStyle}\n            renderHeader={this.props.renderHeader}\n            renderContent={this.props.renderContent}\n            icon={this.props.icon}\n            iconStyle={this.props.iconStyle}\n            expandedIcon={this.props.expandedIcon}\n            expandedIconStyle={this.props.expandedIconStyle}\n          />\n        )}\n        {...this.props}\n      />\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  defaultHeader: {\n    flexDirection: \"row\",\n    padding: 10,\n    justifyContent: \"space-between\",\n    alignItems: \"center\"\n  }\n});\n"]}