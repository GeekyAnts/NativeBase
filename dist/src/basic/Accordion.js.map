{"version":3,"sources":["../../../src/basic/Accordion.js"],"names":["DefaultHeader","variables","context","theme","variable","styles","defaultHeader","props","headerStyle","backgroundColor","title","fontSize","expanded","expandedIcon","expandedIconStyle","color","icon","iconStyle","React","Component","DefaultContent","padding","contentStyle","content","AccordionSubItem","state","fadeAnim","Animated","Value","timing","toValue","duration","start","style","opacity","children","AccordionItem","setSelected","index","renderHeader","item","renderContent","Accordion","selected","undefined","setState","dataArray","borderColor","accordionBorderColor","borderWidth","String","bind","StyleSheet","create","flexDirection","justifyContent","alignItems"],"mappings":"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","file":"Accordion.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  Animated,\r\n  TouchableWithoutFeedback,\r\n  FlatList,\r\n  StyleSheet,\r\n  View\r\n} from \"react-native\";\r\nimport { Text } from \"./Text\";\r\nimport { Icon } from \"./Icon\";\r\nimport variable from \"../theme/variables/platform\";\r\n\r\nclass DefaultHeader extends React.Component {\r\n  render() {\r\n    const variables = this.context.theme\r\n      ? this.context.theme[\"@@shoutem.theme/themeStyle\"].variables\r\n      : variable;\r\n    return (\r\n      <View\r\n        style={[\r\n          styles.defaultHeader,\r\n          this.props.headerStyle\r\n            ? this.props.headerStyle\r\n            : { backgroundColor: variables.headerStyle }\r\n        ]}\r\n      >\r\n        <Text> {this.props.title}</Text>\r\n        <Icon\r\n          style={[\r\n            { fontSize: 18 },\r\n            this.props.expanded\r\n              ? this.props.expandedIcon && this.props.expandedIconStyle\r\n                ? this.props.expandedIconStyle\r\n                : { color: variables.expandedIconStyle }\r\n              : this.props.icon && this.props.iconStyle\r\n                ? this.props.iconStyle\r\n                : { color: variables.iconStyle }\r\n          ]}\r\n          name={\r\n            this.props.expanded\r\n              ? this.props.expandedIcon\r\n                ? this.props.expandedIcon\r\n                : \"ios-arrow-up\"\r\n              : this.props.icon\r\n                ? this.props.icon\r\n                : \"ios-arrow-down\"\r\n          }\r\n        />\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nclass DefaultContent extends React.Component {\r\n  render() {\r\n    const variables = this.context.theme\r\n      ? this.context.theme[\"@@shoutem.theme/themeStyle\"].variables\r\n      : variable;\r\n    return (\r\n      <Text\r\n        style={[\r\n          { padding: 10 },\r\n          this.props.contentStyle\r\n            ? this.props.contentStyle\r\n            : { backgroundColor: variables.contentStyle }\r\n        ]}\r\n      >\r\n        {this.props.content}\r\n      </Text>\r\n    );\r\n  }\r\n}\r\n\r\nclass AccordionSubItem extends React.Component {\r\n  state = {\r\n    fadeAnim: new Animated.Value(0.3)\r\n  };\r\n  componentDidMount() {\r\n    Animated.timing(this.state.fadeAnim, {\r\n      toValue: 1,\r\n      duration: 500\r\n    }).start();\r\n  }\r\n  render() {\r\n    let { fadeAnim } = this.state;\r\n    return (\r\n      <Animated.View style={{ ...this.props.style, opacity: fadeAnim }}>\r\n        {this.props.children}\r\n      </Animated.View>\r\n    );\r\n  }\r\n}\r\n\r\nclass AccordionItem extends React.Component {\r\n  render() {\r\n    return (\r\n      <View>\r\n        <TouchableWithoutFeedback\r\n          onPress={() => this.props.setSelected(this.props.index)}\r\n        >\r\n          <View>\r\n            {this.props.renderHeader ? (\r\n              this.props.renderHeader(this.props.item.title, this.props.expanded)\r\n            ) : (\r\n                <DefaultHeader\r\n                  title={this.props.item.title}\r\n                  expanded={this.props.expanded}\r\n                  headerStyle={this.props.headerStyle}\r\n                  icon={this.props.icon}\r\n                  iconStyle={this.props.iconStyle}\r\n                  expandedIcon={this.props.expandedIcon}\r\n                  expandedIconStyle={this.props.expandedIconStyle}\r\n                />\r\n              )}\r\n          </View>\r\n        </TouchableWithoutFeedback>\r\n        {this.props.expanded ? (\r\n          <AccordionSubItem>\r\n            {this.props.renderContent ? (\r\n              this.props.renderContent(this.props.item.content)\r\n            ) : (\r\n                <DefaultContent\r\n                  content={this.props.item.content}\r\n                  contentStyle={this.props.contentStyle}\r\n                />\r\n              )}\r\n          </AccordionSubItem>\r\n        ) : null}\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nexport class Accordion extends React.Component {\r\n  state = { selected: undefined };\r\n  setSelected(index) {\r\n    if (this.state.selected === index) {\r\n      this.setState({ selected: undefined });\r\n    } else {\r\n      this.setState({ selected: index });\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ selected: this.props.expanded });\r\n  }\r\n\r\n  render() {\r\n    const variables = this.context.theme\r\n      ? this.context.theme[\"@@shoutem.theme/themeStyle\"].variables\r\n      : variable;\r\n    return (\r\n      <FlatList\r\n        data={this.props.dataArray}\r\n        extraData={this.state}\r\n        style={[\r\n          {\r\n            borderColor: variables.accordionBorderColor,\r\n            borderWidth: variables.borderWidth\r\n          },\r\n          this.props.style\r\n        ]}\r\n        keyExtractor={(item, index) => String(index)}\r\n        renderItem={({ item, index }) => (\r\n          <AccordionItem\r\n            key={String(index)}\r\n            item={item}\r\n            expanded={this.state.selected === index}\r\n            index={index}\r\n            setSelected={this.setSelected.bind(this)}\r\n            headerStyle={this.props.headerStyle}\r\n            contentStyle={this.props.contentStyle}\r\n            renderHeader={this.props.renderHeader}\r\n            renderContent={this.props.renderContent}\r\n            icon={this.props.icon}\r\n            iconStyle={this.props.iconStyle}\r\n            expandedIcon={this.props.expandedIcon}\r\n            expandedIconStyle={this.props.expandedIconStyle}\r\n          />\r\n        )}\r\n        {...this.props}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  defaultHeader: {\r\n    flexDirection: \"row\",\r\n    padding: 10,\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\"\r\n  }\r\n});\r\n"]}